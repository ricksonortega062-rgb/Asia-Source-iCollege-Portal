/* ═══════════════════════════════════════════════════
   ASIA SOURCE iCOLLEGE — PORTAL STYLESHEET
   Organized: Variables → Reset → Layout → Components
   ═══════════════════════════════════════════════════ */

/* ══ GOOGLE FONTS ══ */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700;800&display=swap');


/* ════════════════════════════════════════════════
   1. CSS CUSTOM PROPERTIES
   ════════════════════════════════════════════════ */

:root {
  /* Brand Colors */
  --red: #e8000f;
  --red-dk: #a0000a;
  --red-deep: #3d0003;
  --red-glow: rgba(232,0,15,0.6);
  --gold: #ffb800;
  --gold-lt: #ffe066;
  --gold-dk: #a07800;
  --gold-glow: rgba(255,184,0,0.5);

  /* Backgrounds */
  --bg: #080608;
  --bg2: #110208;
  --bg3: #1a0308;
  --bg4: #0e010a;

  /* Surfaces */
  --surface: rgba(20,3,10,0.85);
  --glass: rgba(255,255,255,0.04);
  --glass-border: rgba(255,255,255,0.08);
  --glass-bright: rgba(255,255,255,0.12);
  --card: rgba(15,3,8,0.92);

  /* Borders */
  --border: rgba(232,0,15,0.3);
  --border2: rgba(255,184,0,0.15);
  --border3: rgba(255,255,255,0.06);

  /* Text */
  --text: #ffffff;
  --text2: #f0d0d8;
  --muted: #b08090;
  --dim: #906070;

  /* UI */
  --input-bg: rgba(0,0,0,0.5);
  --nav-bg: rgba(8,0,4,0.95);

  /* Shadows */
  --shadow-red: 0 0 40px rgba(232,0,15,0.4), 0 0 80px rgba(232,0,15,0.15);
  --shadow-gold: 0 0 30px rgba(255,184,0,0.4), 0 0 60px rgba(255,184,0,0.15);
  --shadow-deep: 0 20px 60px rgba(0,0,0,0.8), 0 8px 24px rgba(0,0,0,0.6);
  --shadow-card: 0 40px 80px rgba(0,0,0,0.9), 0 16px 40px rgba(232,0,15,0.1);
}

[data-theme="light"] {
  /* Backgrounds */
  --bg: #f5eded;
  --bg2: #ede0e0;
  --bg3: #e2cfcf;
  --bg4: #f0e4e4;

  /* Surfaces */
  --surface: rgba(255,245,245,0.95);
  --glass: rgba(255,255,255,0.75);
  --glass-border: rgba(90,0,0,0.18);
  --glass-bright: rgba(255,255,255,0.92);
  --card: rgba(255,252,252,0.97);

  /* Borders */
  --border: rgba(140,0,0,0.3);
  --border2: rgba(180,30,30,0.2);
  --border3: rgba(100,0,0,0.12);

  /* Text */
  --text: #1a0000;
  --text2: #3a0808;
  --muted: #7a3030;
  --dim: #5a2020;

  /* UI */
  --input-bg: rgba(255,255,255,0.92);
  --nav-bg: rgba(60,0,0,0.97);

  /* Shadows */
  --shadow-red: 0 0 30px rgba(140,0,0,0.25), 0 8px 32px rgba(0,0,0,0.12);
  --shadow-gold: 0 0 20px rgba(200,120,0,0.3);
  --shadow-deep: 0 20px 40px rgba(0,0,0,0.15), 0 8px 16px rgba(0,0,0,0.08);
  --shadow-card: 0 30px 60px rgba(0,0,0,0.15), 0 12px 30px rgba(140,0,0,0.08);
}


/* ════════════════════════════════════════════════
   2. RESET & BASE
   ════════════════════════════════════════════════ */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  height: 100%;
  font-family: 'Outfit', sans-serif;
  background: var(--bg);
  color: var(--text);
  transition: background .4s, color .4s;
  overflow-x: hidden;
}

.hidden { display: none !important; }
.page   { min-height: 100vh; background: var(--bg); }


/* ════════════════════════════════════════════════
   3. ANIMATIONS (keyframes)
   ════════════════════════════════════════════════ */

@keyframes bgShift {
  0%   { transform: scale(1) rotate(0deg); }
  100% { transform: scale(1.05) rotate(2deg); }
}
@keyframes gridMove {
  0%   { transform: translateY(0); }
  100% { transform: translateY(60px); }
}
@keyframes orbFloat {
  0%, 100% { transform: translateY(0px) scale(1); }
  33%       { transform: translateY(-40px) scale(1.05); }
  66%       { transform: translateY(20px) scale(0.95); }
}
@keyframes particleRise {
  0%   { opacity: 0; transform: translateY(0) scale(0); }
  10%  { opacity: 1; }
  90%  { opacity: .5; }
  100% { opacity: 0; transform: translateY(-100vh) scale(1.5); }
}
@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50%       { opacity: .4; transform: scale(.7); }
}
@keyframes logoSplash {
  0%   { opacity: 0; transform: scale(0.2) rotate(-25deg); filter: blur(8px); }
  50%  { opacity: 1; transform: scale(1.15) rotate(5deg); filter: blur(0); }
  70%  { transform: scale(0.94) rotate(-2deg); }
  85%  { transform: scale(1.04) rotate(1deg); }
  100% { opacity: 1; transform: scale(1) rotate(0deg); }
}
@keyframes logoFloat {
  0%, 100% { transform: translateY(0px) rotateY(0deg); }
  25%       { transform: translateY(-10px) rotateY(5deg); }
  75%       { transform: translateY(-5px) rotateY(-3deg); }
}
@keyframes logoGlow {
  0%   { box-shadow: 0 0 40px rgba(232,0,15,0.5), 0 0 80px rgba(232,0,15,0.15), 0 0 0 12px rgba(255,184,0,0.06); }
  100% { box-shadow: 0 0 60px rgba(232,0,15,0.85), 0 0 120px rgba(232,0,15,0.3), 0 0 0 16px rgba(255,184,0,0.14); }
}
@keyframes hexPulse {
  from { opacity: .6; transform: scale(0.9); }
  to   { opacity: 1; transform: scale(1.1); }
}
@keyframes orbitSpin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}
@keyframes titleReveal {
  0%   { opacity: 0; transform: translateY(28px) scale(0.96); letter-spacing: -2px; }
  100% { opacity: 1; transform: translateY(0) scale(1); letter-spacing: 2px; }
}
@keyframes fadeSlideUp {
  0%   { opacity: 0; transform: translateY(18px); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes locationEntrance {
  0%   { opacity: 0; transform: scale(0.85) translateY(20px); }
  60%  { transform: scale(1.04) translateY(-3px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}
@keyframes locationPulse {
  0%, 100% { box-shadow: 0 8px 32px rgba(0,0,0,0.4), 0 0 20px rgba(255,184,0,0.1), inset 0 1px 0 rgba(255,255,255,0.08); }
  50%       { box-shadow: 0 8px 40px rgba(0,0,0,0.5), 0 0 40px rgba(255,184,0,0.22), inset 0 1px 0 rgba(255,255,255,0.1); }
}
@keyframes locationShimmer {
  0%   { background-position: 200% center; }
  100% { background-position: -200% center; }
}
@keyframes pinBounce {
  0%, 100% { transform: translateY(0) scale(1); }
  45%       { transform: translateY(-5px) scale(1.1); }
  65%       { transform: translateY(-2px) scale(1.05); }
}
@keyframes nameShine {
  0%   { background-position: 200% center; }
  100% { background-position: -200% center; }
}
@keyframes mottoShine {
  0%   { background-position: 0% center; }
  100% { background-position: 200% center; }
}
@keyframes diamondPulse {
  0%, 100% { opacity: .4; transform: rotate(45deg) scale(1); }
  50%       { opacity: 1; transform: rotate(45deg) scale(1.3); }
}
@keyframes lpLeftEntrance {
  0%   { opacity: 0; transform: translateX(-50px); }
  100% { opacity: 1; transform: translateX(0); }
}
@keyframes avatarPulse {
  0%, 100% { filter: drop-shadow(0 0 20px rgba(232,0,15,0.5)); }
  50%       { filter: drop-shadow(0 0 30px rgba(255,184,0,0.6)); }
}
@keyframes badgePulse {
  0%, 100% { box-shadow: 0 0 10px rgba(232,0,15,.6); }
  50%       { box-shadow: 0 0 20px rgba(232,0,15,.9); }
}
@keyframes modalIn {
  from { opacity: 0; transform: scale(.9) translateY(20px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}
@keyframes tcFadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}
@keyframes tcSlideUp {
  from { opacity: 0; transform: translateY(30px) scale(.97); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes tsm3GreenPulse {
  0%, 100% { box-shadow: 0 0 6px #22c55e; }
  50%       { box-shadow: 0 0 16px #22c55e; }
}
@keyframes tsm3ChipIn {
  from { transform: scale(.6) translateY(4px); opacity: 0; }
  to   { transform: scale(1) translateY(0); opacity: 1; }
}
@keyframes tsm3CatIn {
  from { opacity: 0; transform: translateY(7px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn3d {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}
@keyframes checkBounce {
  from { transform: scale(0); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}


/* ════════════════════════════════════════════════
   4. PORTAL BACKGROUND
   ════════════════════════════════════════════════ */

.portal-bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
  display: none;
}
.portal-bg.dash-active { display: block; }

.portal-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 80% 50% at 20% 20%, rgba(232,0,15,0.12) 0%, transparent 60%),
    radial-gradient(ellipse 60% 40% at 80% 80%, rgba(255,184,0,0.08) 0%, transparent 60%);
  animation: bgShift 12s ease-in-out infinite alternate;
}
.portal-bg::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(232,0,15,0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(232,0,15,0.04) 1px, transparent 1px);
  background-size: 60px 60px;
  animation: gridMove 20s linear infinite;
}

/* Orbs */
.orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  animation: orbFloat linear infinite;
  pointer-events: none;
}
.orb-1 { width: 300px; height: 300px; background: rgba(232,0,15,0.15); top: -100px; left: -100px; animation-duration: 18s; }
.orb-2 { width: 200px; height: 200px; background: rgba(255,184,0,0.1); top: 60%; right: -80px; animation-duration: 14s; animation-delay: -6s; }
.orb-3 { width: 400px; height: 400px; background: rgba(139,0,30,0.08); bottom: -150px; left: 40%; animation-duration: 22s; animation-delay: -10s; }

/* Particles */
.particles { position: absolute; inset: 0; }
.particle {
  position: absolute;
  background: var(--gold);
  border-radius: 50%;
  animation: particleRise linear infinite;
  opacity: 0;
}


/* ════════════════════════════════════════════════
   5. LOGIN PAGE
   ════════════════════════════════════════════════ */

.lp-wrapper {
  display: flex;
  min-height: 100vh;
  width: 100%;
  position: relative;
}

/* ── Left Panel ── */
.lp-left {
  flex: 0 0 46%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  background:
    radial-gradient(ellipse 70% 50% at 15% 15%, rgba(232,0,15,0.32), transparent 55%),
    radial-gradient(ellipse 55% 60% at 85% 85%, rgba(140,0,240,0.15), transparent 55%),
    linear-gradient(155deg, #130112, #260016, #0d0014, #10000e);
}
.lp-left::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(232,0,15,0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(232,0,15,0.05) 1px, transparent 1px);
  background-size: 38px 38px;
  pointer-events: none;
}
.lp-left::after {
  content: '';
  position: absolute;
  top: 0; right: 0;
  width: 2px;
  height: 100%;
  background: linear-gradient(180deg, transparent 5%, var(--red) 30%, var(--gold) 60%, rgba(200,0,200,0.4) 85%, transparent 95%);
}

.lp-left-inner {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 36px 26px;
  width: 100%;
  max-height: 100vh;
  overflow-y: auto;
  animation: lpLeftEntrance 0.75s cubic-bezier(0.25,1,0.5,1) both;
}
.lp-left-inner::-webkit-scrollbar { width: 3px; }
.lp-left-inner::-webkit-scrollbar-thumb { background: rgba(232,0,15,0.4); border-radius: 2px; }

/* Logo */
.lp-logo-wrap {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 24px;
  width: 220px;
  height: 220px;
}
.lp-logo-3d {
  width: 150px; height: 150px;
  border-radius: 50%;
  object-fit: cover;
  border: 4px solid var(--gold);
  position: relative;
  z-index: 3;
  box-shadow: 0 0 0 12px rgba(255,184,0,0.08), 0 0 60px rgba(232,0,15,0.8), 0 0 130px rgba(232,0,15,0.28);
  animation:
    logoSplash 1.1s cubic-bezier(0.34,1.56,0.64,1) 0.05s both,
    logoFloat 4s ease-in-out 1.2s infinite,
    logoGlow 3s ease-in-out 1.2s infinite alternate;
  background: linear-gradient(135deg, var(--red-deep), var(--red-dk));
}
.logo-hex-bg {
  position: absolute; inset: 0; z-index: 1;
  background: radial-gradient(circle, rgba(232,0,15,0.15) 0%, transparent 70%);
  animation: hexPulse 3s ease-in-out infinite alternate;
}
.logo-orbit {
  position: absolute; inset: -14px;
  border-radius: 50%; z-index: 2;
  border: 1.5px solid rgba(255,184,0,0.5);
  animation: orbitSpin 6s linear infinite;
}
.logo-orbit::before {
  content: '★';
  position: absolute; top: -11px; left: 50%; transform: translateX(-50%);
  color: var(--gold); font-size: 16px; text-shadow: 0 0 10px var(--gold);
}
.logo-orbit-2 {
  position: absolute; inset: -30px;
  border-radius: 50%; z-index: 2;
  border: 1px dashed rgba(232,0,15,0.3);
  animation: orbitSpin 10s linear infinite reverse;
}
.logo-orbit-2::before {
  content: '◆';
  position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%);
  color: rgba(232,0,15,0.8); font-size: 13px;
}
.logo-orbit-3 {
  position: absolute; inset: -50px;
  border-radius: 50%; z-index: 2;
  border: 1px solid rgba(255,255,255,0.06);
  animation: orbitSpin 16s linear infinite;
}

/* Title & Badge */
.lp-title {
  font-family: 'Cinzel', serif;
  font-size: 26px; font-weight: 900; line-height: 1.1;
  color: #fff; margin-bottom: 10px;
  text-shadow: 0 0 40px rgba(232,0,15,0.5), 0 2px 4px rgba(0,0,0,0.8);
  letter-spacing: 2px;
  animation: titleReveal 0.7s cubic-bezier(0.34,1.2,0.64,1) 0.55s both;
}
.lp-title em {
  display: block; font-style: normal;
  color: var(--gold); font-size: 18px; letter-spacing: 6px;
  text-shadow: 0 0 30px rgba(255,184,0,0.6);
}
.lp-badge {
  display: inline-flex; align-items: center; gap: 8px;
  background: rgba(255,184,0,0.08);
  border: 1px solid rgba(255,184,0,0.3);
  border-radius: 40px; padding: 5px 16px;
  font-size: 9px; color: var(--gold);
  margin-bottom: 12px; letter-spacing: 2px; text-transform: uppercase;
  backdrop-filter: blur(10px);
  animation: fadeSlideUp 0.6s ease 0.85s both;
}
.lp-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--gold); display: inline-block;
  animation: pulse 2s infinite;
}
.lp-divider {
  width: 80px; height: 1px; margin-bottom: 12px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  animation: fadeSlideUp 0.5s ease 0.9s both;
}

/* Motto */
.lp-motto-wrap {
  position: relative; text-align: center; padding: 10px 24px 0;
  width: 100%; opacity: 0;
  animation: fadeSlideUp 0.7s ease 1.05s both;
  animation-fill-mode: forwards;
}
.lp-motto-deco {
  font-family: 'Cinzel', serif; font-size: 72px; line-height: .5;
  color: var(--red); opacity: .25; display: block; user-select: none;
}
.lp-motto-deco-left  { text-align: left; margin-bottom: -10px; }
.lp-motto-deco-right { text-align: right; margin-top: -10px; }
.lp-motto {
  font-family: 'Cinzel', serif;
  font-size: clamp(26px,3vw,38px); font-weight: 900; line-height: 1.25;
  color: #fff; letter-spacing: 1px; margin: 0;
  text-shadow: 0 0 40px rgba(232,0,15,0.5), 0 2px 8px rgba(0,0,0,0.9);
}
.lp-motto-accent {
  display: block;
  font-size: clamp(30px,3.5vw,44px); font-weight: 900;
  background: linear-gradient(135deg, #ffb800 0%, #ff6000 40%, #e8000f 80%, #ffb800 100%);
  background-size: 200% auto;
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  text-shadow: none; letter-spacing: 2px;
  animation: mottoShine 4s linear infinite;
}
.lp-motto-underline {
  width: 120px; height: 2px; margin: 14px auto 10px;
  background: linear-gradient(90deg, transparent, var(--red) 30%, var(--gold) 70%, transparent);
}
.lp-motto-sub {
  font-family: 'Cinzel', serif; font-size: 10px; font-weight: 400;
  color: rgba(255,184,0,0.45); letter-spacing: 3px; text-transform: uppercase;
}

/* Location Card */
.lp-stats {
  display: flex; flex-direction: column; gap: 0;
  width: 100%; align-items: center; margin-bottom: 18px;
  animation: locationEntrance 0.7s cubic-bezier(0.34,1.56,0.64,1) 1.2s both;
}
.lp-location-card {
  display: flex; align-items: center; justify-content: center; gap: 18px;
  background: linear-gradient(135deg, rgba(255,184,0,0.13) 0%, rgba(232,0,15,0.07) 50%, rgba(255,184,0,0.05) 100%);
  border: 1.5px solid rgba(255,184,0,0.4);
  border-radius: 22px; padding: 16px 32px;
  width: 100%; max-width: 310px;
  position: relative; overflow: hidden;
  backdrop-filter: blur(16px);
  animation: locationPulse 3.5s ease-in-out infinite;
}
.lp-location-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 1.5px;
  background: linear-gradient(90deg, transparent 10%, var(--gold) 40%, #fff 50%, var(--gold) 60%, transparent 90%);
  opacity: 0.8;
}
.lp-location-card::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(110deg, transparent 25%, rgba(255,210,80,0.07) 50%, transparent 75%);
  background-size: 200% auto;
  animation: locationShimmer 4s linear infinite;
}
.lp-location-divider {
  width: 1.5px; height: 40px; flex-shrink: 0; position: relative; z-index: 1;
  background: linear-gradient(180deg, transparent 0%, rgba(255,184,0,0.6) 30%, rgba(255,255,255,0.3) 50%, rgba(255,184,0,0.6) 70%, transparent 100%);
}
.lp-location-item {
  display: flex; flex-direction: column; align-items: center; gap: 4px;
  position: relative; z-index: 1; min-width: 90px;
}
.lp-location-pin {
  font-size: 22px; line-height: 1;
  filter: drop-shadow(0 0 8px rgba(255,184,0,0.8));
  animation: pinBounce 2.2s ease-in-out infinite;
}
.lp-location-item:last-child .lp-location-pin { animation-delay: 1.1s; }
.lp-location-name {
  font-family: 'Cinzel', serif;
  font-size: 14px; font-weight: 900;
  letter-spacing: 3px; text-transform: uppercase; line-height: 1;
  background: linear-gradient(135deg, #fff 20%, #ffe566 60%, #ffb800 100%);
  background-size: 200% auto;
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  text-shadow: none;
  animation: nameShine 4s linear infinite;
}
.lp-location-label {
  font-size: 8.5px; font-weight: 700;
  color: rgba(255,184,0,0.65); letter-spacing: 1.8px; text-transform: uppercase;
  font-family: 'Outfit', sans-serif;
}

/* Bottom decoration */
.lp-bottom-deco {
  display: flex; align-items: center; gap: 12px;
  width: 80%; margin-top: 8px;
  animation: fadeSlideUp 0.7s ease 1.35s both;
}
.lp-deco-line { flex: 1; height: 1px; background: linear-gradient(90deg, transparent, rgba(255,184,0,0.3)); }
.lp-deco-line:last-child { background: linear-gradient(90deg, rgba(255,184,0,0.3), transparent); }
.lp-deco-diamonds { display: flex; align-items: center; gap: 6px; }
.lp-deco-diamond {
  width: 6px; height: 6px; background: rgba(255,184,0,0.4);
  transform: rotate(45deg); border-radius: 1px;
  animation: diamondPulse 3s ease-in-out infinite;
}
.lp-deco-diamond--lg { width: 10px; height: 10px; background: var(--gold); opacity: .7; animation-delay: .5s; }

/* ── Right Panel (Login Card) ── */
.lp-right {
  flex: 1;
  display: flex; align-items: center; justify-content: center;
  padding: 60px 36px 40px;
  overflow-y: auto; position: relative;
  background-image: url('bg.png');
  background-size: cover; background-position: center; background-repeat: no-repeat;
}
.lp-right::before {
  content: '';
  position: absolute; inset: 0;
  background: rgba(2,0,8,0.58); z-index: 0; pointer-events: none;
}
.login-bg-canvas { display: none !important; }

.lp-card {
  width: 100%; max-width: 440px;
  background: rgba(24,5,30,0.86);
  border: 1px solid rgba(232,0,15,0.2);
  border-radius: 26px; padding: 28px 30px 24px;
  backdrop-filter: blur(40px);
  box-shadow: var(--shadow-card);
  position: relative; overflow: hidden; z-index: 1;
}
.lp-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, var(--red), var(--gold), transparent);
}
.lp-card-head    { display: flex; align-items: center; gap: 13px; margin-bottom: 14px; }
.lp-card-logo    { width: 46px; height: 46px; border-radius: 50%; object-fit: cover; border: 2px solid var(--gold); box-shadow: 0 0 16px rgba(255,184,0,0.35); background: linear-gradient(135deg, var(--red-deep), var(--red-dk)); flex-shrink: 0; }
.lp-card-title   { font-family: 'Cinzel', serif; font-size: 16px; font-weight: 700; color: var(--text); }
.lp-card-title span { color: var(--gold); }
.lp-card-sub     { font-size: 11px; color: var(--muted); margin-top: 2px; }
.lp-stripe       { height: 2px; border-radius: 2px; margin-bottom: 20px; overflow: hidden; background: linear-gradient(90deg, var(--red) 60%, var(--gold) 100%); }


/* ════════════════════════════════════════════════
   6. AUTH FORMS
   ════════════════════════════════════════════════ */

.auth-tabs {
  display: flex;
  background: rgba(0,0,0,0.3);
  border: 1px solid var(--border3);
  border-radius: 14px; padding: 4px; margin-bottom: 20px; gap: 4px;
}
.auth-tab {
  flex: 1; padding: 10px;
  border: none; border-radius: 10px;
  font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 700;
  cursor: pointer; background: transparent; color: var(--muted);
  transition: all .25s;
}
.auth-tab.active {
  background: linear-gradient(135deg, var(--red), var(--red-dk));
  color: #fff; box-shadow: 0 4px 20px rgba(232,0,15,0.4);
}

.role-toggle {
  display: flex;
  background: rgba(0,0,0,0.3);
  border: 1px solid var(--border3);
  border-radius: 14px; padding: 4px; margin-bottom: 18px; gap: 4px;
}
.role-btn {
  flex: 1; padding: 10px;
  border: none; border-radius: 10px;
  font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 600;
  cursor: pointer; background: transparent; color: var(--muted); transition: all .25s;
}
.role-btn.active {
  background: linear-gradient(135deg, var(--red), var(--red-dk));
  color: #fff; box-shadow: 0 4px 14px rgba(232,0,15,0.35);
}

/* Form groups */
.fg            { margin-bottom: 15px; }
.fg label      { display: block; font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: var(--dim); margin-bottom: 6px; }
.hint-lbl      { font-size: 9.5px; color: var(--gold); text-transform: none; letter-spacing: 0; font-weight: 400; }

.fg-extras {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 16px; font-size: 13px;
}
.check-lbl { display: flex; align-items: center; gap: 6px; color: var(--muted); cursor: pointer; }
.check-lbl input { accent-color: var(--red); }
.link-gold { color: var(--gold); text-decoration: none; font-weight: 600; }

/* Inputs */
.email-wrap {
  display: flex; align-items: stretch;
  border: 1.5px solid var(--border3); border-radius: 12px;
  overflow: hidden; background: var(--input-bg); transition: all .25s;
}
.email-wrap:focus-within { border-color: var(--red); box-shadow: 0 0 0 3px rgba(232,0,15,0.15); }
.email-input {
  flex: 1; padding: 12px;
  border: none !important; outline: none !important;
  font-family: 'Outfit', sans-serif; font-size: 13px; color: var(--text);
  background: transparent; min-width: 0;
}
.email-input::placeholder { color: rgba(232,0,15,0.3); }
.email-sfx {
  display: flex; align-items: center; padding: 0 10px;
  font-size: 10px; color: var(--gold);
  background: rgba(255,184,0,0.06); border-left: 1px solid var(--border3);
  white-space: nowrap; font-weight: 600;
}

.pw-wrap { position: relative; }
.pw-wrap input {
  width: 100%; padding: 12px 44px 12px 14px;
  border: 1.5px solid var(--border3); border-radius: 12px;
  font-family: 'Outfit', sans-serif; font-size: 13px; color: var(--text);
  background: var(--input-bg); outline: none; transition: all .25s;
}
.pw-wrap input:focus { border-color: var(--red); box-shadow: 0 0 0 3px rgba(232,0,15,0.15); }
.pw-wrap input::placeholder { color: rgba(232,0,15,0.25); }
.pw-eye { position: absolute; right: 11px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 16px; opacity: .6; transition: opacity .2s; }
.pw-eye:hover { opacity: 1; }

.plain-input {
  width: 100%; padding: 12px 14px;
  border: 1.5px solid var(--border3); border-radius: 12px;
  font-family: 'Outfit', sans-serif; font-size: 13px; color: var(--text);
  background: var(--input-bg); outline: none; transition: all .25s;
}
.plain-input:focus { border-color: var(--red); box-shadow: 0 0 0 3px rgba(232,0,15,0.15); }
.plain-input::placeholder { color: rgba(232,0,15,0.25); }
select.plain-input option { background: var(--bg2); color: var(--text); }

/* Button */
.btn-red {
  width: 100%; padding: 14px;
  border: none; border-radius: 14px;
  background: linear-gradient(135deg, var(--red), var(--red-dk));
  color: #fff; font-family: 'Outfit', sans-serif; font-size: 15px; font-weight: 700;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(232,0,15,0.4), 0 2px 0 rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1);
  transition: all .2s; letter-spacing: .5px;
  position: relative; overflow: hidden;
}
.btn-red::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent); transition: left .4s; }
.btn-red:hover { transform: translateY(-2px); box-shadow: 0 14px 34px rgba(232,0,15,0.55); }
.btn-red:hover::before { left: 100%; }

/* Alert */
.alert {
  border-radius: 12px; padding: 11px 14px; font-size: 13px;
  margin-bottom: 12px; font-weight: 500; white-space: pre-line;
  backdrop-filter: blur(10px);
}
.alert.error,
.alert:not(.success) { background: rgba(232,0,15,0.1); border: 1px solid rgba(232,0,15,0.3); color: #ff8090; }
.alert.success       { background: rgba(0,230,118,0.08); border: 1px solid rgba(0,230,118,0.3); color: #5dde92; }
.alert.hidden        { display: none; }

.auth-switch { text-align: center; font-size: 13px; color: var(--muted); margin-top: 14px; }

/* Demo Box */
.demo-box        { background: rgba(0,0,0,0.28); border: 1px solid var(--border3); border-radius: 14px; padding: 12px 14px; margin-top: 14px; font-size: 11.5px; backdrop-filter: blur(10px); }
.demo-title      { font-weight: 800; color: var(--text); font-size: 10.5px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
.demo-cols       { display: flex; gap: 0; margin-bottom: 4px; }
.demo-col        { flex: 1; }
.demo-col-sep    { width: 1px; background: var(--border3); margin: 0 12px; }
.demo-col-label  { font-size: 10.5px; font-weight: 700; color: var(--text); margin-bottom: 5px; }
.demo-row        { display: flex; justify-content: space-between; gap: 8px; padding: 2px 0; color: var(--muted); font-size: 11px; }
.demo-row span:last-child { color: var(--text); font-weight: 600; font-family: 'Courier New', monospace; font-size: 11px; }
.demo-note       { font-size: 10px; color: rgba(255,184,0,0.7); margin-top: 8px; padding-top: 7px; border-top: 1px dashed rgba(255,184,0,0.15); }


/* ════════════════════════════════════════════════
   7. TERMS & CONDITIONS MODAL
   ════════════════════════════════════════════════ */

.tc-wrap {
  margin-bottom: 14px;
  background: rgba(255,184,0,0.04);
  border: 1px solid rgba(255,184,0,0.2); border-radius: 12px; padding: 12px 14px;
}
.tc-check-lbl { display: flex; align-items: center; gap: 10px; cursor: pointer; font-size: 12.5px; color: var(--text2); }
.tc-check-lbl input[type="checkbox"] { display: none; }
.tc-checkmark {
  width: 20px; height: 20px; border-radius: 6px; flex-shrink: 0;
  border: 2px solid rgba(255,184,0,0.4); background: rgba(0,0,0,0.3);
  display: flex; align-items: center; justify-content: center;
  transition: all .25s; position: relative;
}
.tc-check-lbl input:checked ~ .tc-checkmark {
  background: linear-gradient(135deg, var(--gold), var(--gold-dk));
  border-color: var(--gold); box-shadow: 0 0 12px rgba(255,184,0,0.4);
}
.tc-check-lbl input:checked ~ .tc-checkmark::after {
  content: '✓'; position: absolute; color: #1a0800; font-size: 13px; font-weight: 900;
}
.tc-text { flex: 1; line-height: 1.5; }
.tc-link {
  color: var(--gold); font-weight: 700; text-decoration: underline;
  background: none; border: none; cursor: pointer;
  font-size: 12.5px; font-family: 'Outfit', sans-serif; padding: 0;
}

/* T&C Modal Overlay */
.tc-modal-overlay {
  position: fixed; inset: 0; z-index: 9000;
  background: rgba(0,0,0,0.82); backdrop-filter: blur(14px);
  display: flex; align-items: center; justify-content: center;
  padding: 24px; animation: tcFadeIn .2s ease;
}
.tc-modal-card {
  width: 100%; max-width: 820px;
  background: linear-gradient(145deg, #0e0215, #130210, #0b0108);
  border: 1px solid rgba(255,184,0,0.25); border-radius: 26px;
  overflow: hidden; box-shadow: 0 40px 80px rgba(0,0,0,0.9);
  display: flex; flex-direction: column; max-height: 94vh;
  animation: tcSlideUp .3s cubic-bezier(0.34,1.56,0.64,1);
}
.tc-modal-head {
  display: flex; align-items: center; gap: 16px;
  padding: 22px 26px 18px;
  background: linear-gradient(135deg, rgba(255,184,0,0.08), rgba(232,0,15,0.06));
  border-bottom: 1px solid rgba(255,184,0,0.15);
  position: relative;
}
.tc-modal-head::after {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}
.tc-modal-icon { width: 50px; height: 50px; border-radius: 14px; flex-shrink: 0; background: linear-gradient(135deg, rgba(255,184,0,0.2), rgba(255,184,0,0.06)); border: 1px solid rgba(255,184,0,0.3); display: flex; align-items: center; justify-content: center; font-size: 24px; }
.tc-modal-title { font-family: 'Cinzel', serif; font-size: 18px; font-weight: 700; color: #fff; margin-bottom: 3px; }
.tc-modal-sub   { font-size: 11px; color: rgba(255,184,0,0.6); letter-spacing: .5px; }

.tc-body { flex: 1; overflow-y: auto; padding: 28px 36px; scrollbar-width: thin; scrollbar-color: rgba(255,184,0,0.4) transparent; }
.tc-body::-webkit-scrollbar       { width: 5px; }
.tc-body::-webkit-scrollbar-thumb { background: rgba(255,184,0,0.4); border-radius: 2px; }

.tc-section              { margin-bottom: 26px; padding-bottom: 26px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.tc-section:last-child   { border-bottom: none; margin-bottom: 0; }
.tc-section h4           { font-family: 'Cinzel', serif; font-size: 13px; font-weight: 700; color: var(--gold); margin-bottom: 10px; letter-spacing: .5px; text-transform: uppercase; }
.tc-section p            { font-size: 13.5px; line-height: 1.9; color: rgba(255,255,255,0.62); font-weight: 300; }

.tc-footer {
  padding: 18px 26px; background: rgba(0,0,0,0.4);
  border-top: 1px solid rgba(255,255,255,0.06);
  display: flex; flex-direction: column; gap: 10px;
}
.tc-scroll-hint { font-size: 10.5px; color: rgba(255,184,0,0.5); text-align: center; letter-spacing: .3px; transition: opacity .3s; }
.tc-accept-btn {
  width: 100%; padding: 14px;
  border: none; border-radius: 14px;
  background: linear-gradient(135deg, rgba(255,184,0,0.3), rgba(161,98,7,0.4));
  color: rgba(255,255,255,0.4); font-family: 'Outfit', sans-serif; font-size: 14px; font-weight: 700;
  cursor: not-allowed; transition: all .3s;
  border: 1px solid rgba(255,184,0,0.2);
}
.tc-accept-btn:not(:disabled) { background: linear-gradient(135deg, var(--gold), var(--gold-dk)); color: #1a0800; cursor: pointer; box-shadow: 0 8px 24px rgba(255,184,0,0.4); border-color: var(--gold); }
.tc-accept-btn:not(:disabled):hover { filter: brightness(1.1); transform: translateY(-2px); }


/* ════════════════════════════════════════════════
   8. NAVIGATION
   ════════════════════════════════════════════════ */

.dash-nav {
  background: var(--nav-bg);
  border-bottom: 1px solid var(--border3);
  padding: 12px 24px;
  display: flex; align-items: center; justify-content: space-between;
  position: sticky; top: 0; z-index: 100;
  backdrop-filter: blur(24px);
  box-shadow: 0 4px 30px rgba(0,0,0,0.6), 0 1px 0 rgba(232,0,15,0.3);
}
.nav-accent { position: absolute; bottom: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, var(--red) 30%, var(--gold) 60%, transparent); }
.dash-brand {
  font-family: 'Cinzel', serif; font-size: 16px; font-weight: 700;
  color: #fff; display: flex; align-items: center; gap: 10px;
  letter-spacing: 1px; text-shadow: 0 0 20px rgba(255,184,0,0.3);
  cursor: pointer; transition: opacity .2s, filter .2s; user-select: none;
}
.dash-brand:hover { opacity: .82; filter: drop-shadow(0 0 8px rgba(255,184,0,0.4)); }
.dash-brand img   { width: 32px; height: 32px; border-radius: 50%; object-fit: cover; border: 2px solid var(--gold); box-shadow: 0 0 14px rgba(255,184,0,0.4); }

.nav-right { display: flex; align-items: center; gap: 10px; }
.user-pill { display: flex; align-items: center; gap: 8px; background: rgba(255,255,255,0.06); border: 1px solid var(--glass-border); border-radius: 40px; padding: 5px 14px 5px 5px; font-size: 13px; font-weight: 600; color: #fff; backdrop-filter: blur(10px); }
.uavatar   { width: 30px; height: 30px; border-radius: 50%; background: linear-gradient(135deg, var(--red), var(--red-dk)); display: flex; align-items: center; justify-content: center; font-size: 13px; color: #fff; box-shadow: 0 0 12px rgba(232,0,15,0.5); }
.uavatar.t { background: linear-gradient(135deg, #1e40af, #1e3a8a); box-shadow: 0 0 12px rgba(30,64,175,0.5); }

.btn-logout {
  background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); border-radius: 10px;
  padding: 7px 16px; font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 600;
  cursor: pointer; color: rgba(255,150,160,0.9); transition: all .2s; backdrop-filter: blur(10px);
}
.btn-logout:hover { background: rgba(232,0,15,0.2); border-color: rgba(232,0,15,0.4); color: #fff; }

.btn-add-student {
  padding: 8px 16px; border-radius: 20px;
  background: linear-gradient(135deg, rgba(30,64,175,0.3), rgba(30,58,138,0.2));
  border: 1.5px solid rgba(59,130,246,0.4); color: #93c5fd;
  font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 700;
  cursor: pointer; transition: all .2s;
}
.btn-add-student:hover { background: linear-gradient(135deg, rgba(30,64,175,0.5), rgba(30,58,138,0.3)); border-color: #3b82f6; color: #fff; transform: translateY(-1px); }

.dm-nav-btn {
  background: rgba(255,255,255,0.08); border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px); border-radius: 10px; padding: 7px 12px;
  cursor: pointer; font-size: 16px; color: var(--text); transition: all .2s;
}
.dm-nav-btn:hover { border-color: var(--gold); box-shadow: var(--shadow-gold); }

/* Notifications */
.notif-bell-btn {
  position: relative;
  background: rgba(255,255,255,0.06); border: 1px solid var(--glass-border);
  border-radius: 10px; padding: 7px 13px; cursor: pointer;
  font-size: 18px; color: var(--text); transition: all .2s; backdrop-filter: blur(10px);
}
.notif-bell-btn:hover { border-color: var(--gold); box-shadow: var(--shadow-gold); }
.notif-badge {
  position: absolute; top: -6px; right: -6px;
  min-width: 18px; height: 18px; border-radius: 50%;
  background: var(--red); color: #fff; font-size: 10px; font-weight: 800;
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 0 10px rgba(232,0,15,.6); padding: 0 3px;
  animation: badgePulse 2s ease-in-out infinite;
}
.notif-wrap { position: relative; }
.teacher-notif-panel {
  position: absolute; top: calc(100% + 10px); right: 0;
  width: 380px; max-height: 520px; overflow-y: auto;
  background: linear-gradient(145deg, #0e0215, #130210);
  border: 1px solid rgba(232,0,15,0.25); border-radius: 18px; padding: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.8); z-index: 500;
  backdrop-filter: blur(30px);
  animation: modalIn .25s cubic-bezier(0.34,1.56,0.64,1);
}
.teacher-notif-panel::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, var(--red), var(--gold), transparent); }

.notif-empty { text-align: center; padding: 24px; color: var(--muted); font-size: 13px; }
.notif-item  { display: flex; gap: 12px; padding: 14px; border-radius: 14px; margin-bottom: 8px; background: rgba(255,255,255,.02); border: 1px solid rgba(255,255,255,.05); }
.notif-item:last-child { margin-bottom: 0; }
.notif-unread { background: rgba(232,0,15,.06) !important; border-color: rgba(232,0,15,.2) !important; }
.notif-avatar { font-size: 26px; flex-shrink: 0; }
.notif-body   { flex: 1; min-width: 0; }
.notif-title  { font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: .8px; color: var(--gold); margin-bottom: 3px; }
.notif-msg    { font-size: 13px; color: var(--text); line-height: 1.5; margin-bottom: 4px; }
.notif-email  { font-size: 10.5px; color: var(--muted); margin-bottom: 10px; }
.notif-strand-row { display: flex; align-items: center; gap: 5px; margin-top: 5px; }
.notif-actions    { display: flex; gap: 8px; }
.notif-approve { flex: 1; padding: 8px; border-radius: 10px; background: linear-gradient(135deg, #065f46, #14532d); border: 1px solid rgba(0,230,118,.3); color: #fff; font-family: 'Outfit', sans-serif; font-size: 12px; font-weight: 700; cursor: pointer; transition: all .2s; }
.notif-approve:hover { filter: brightness(1.2); }
.notif-reject  { flex: 1; padding: 8px; border-radius: 10px; background: rgba(232,0,15,.12); border: 1px solid rgba(232,0,15,.3); color: #ff8090; font-family: 'Outfit', sans-serif; font-size: 12px; font-weight: 700; cursor: pointer; transition: all .2s; }
.notif-reject:hover { background: rgba(232,0,15,.22); }
.notif-status     { font-size: 12px; font-weight: 700; padding: 5px 12px; border-radius: 20px; display: inline-block; }
.notif-status-ok  { background: rgba(0,230,118,.1); color: #5dde92; border: 1px solid rgba(0,230,118,.3); }
.notif-status-no  { background: rgba(232,0,15,.1); color: #ff8090; border: 1px solid rgba(232,0,15,.3); }
.btn-settings-gear {
  background: rgba(30,64,175,0.15); border: 1px solid rgba(59,130,246,0.3);
  border-radius: 10px; padding: 7px 13px; cursor: pointer;
  font-size: 16px; color: #93c5fd; transition: all .2s;
}
.btn-settings-gear:hover { background: rgba(30,64,175,0.3); border-color: #3b82f6; }


/* ════════════════════════════════════════════════
   9. DASHBOARD LAYOUT
   ════════════════════════════════════════════════ */

.dash-body    { padding: 24px; max-width: 100%; margin: 0 auto; position: relative; z-index: 1; }
.stu-layout   { display: grid; grid-template-columns: 265px 1fr; gap: 22px; align-items: start; }
.stu-sidebar  { position: sticky; top: 80px; }
.tch-layout   { display: grid; grid-template-columns: 240px 1fr; gap: 20px; align-items: start; }
.tch-sidebar  { position: sticky; top: 80px; }


/* ════════════════════════════════════════════════
   10. PROFILE CARD (sidebar)
   ════════════════════════════════════════════════ */

.profile-card {
  background: var(--glass); border: 1px solid var(--glass-border);
  border-radius: 22px; padding: 26px 20px; text-align: center;
  margin-bottom: 16px; backdrop-filter: blur(24px);
  box-shadow: var(--shadow-card); transition: all .3s;
  position: relative; overflow: hidden;
}
.profile-card::before  { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, var(--red), var(--gold), transparent); }
.profile-card::after   { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse at 50% -20%, rgba(232,0,15,0.12), transparent 60%); pointer-events: none; }
.clickable-profile     { cursor: pointer; }
.clickable-profile:hover { transform: translateY(-4px); border-color: rgba(255,184,0,0.4); box-shadow: var(--shadow-card), var(--shadow-gold); }

.pc-avatar-wrap      { position: relative; display: inline-block; margin-bottom: 14px; }
.pc-avatar           { font-size: 52px; display: block; filter: drop-shadow(0 0 20px rgba(232,0,15,0.6)); animation: avatarPulse 3s ease-in-out infinite; }
.pc-avatar-ring      { position: absolute; inset: -8px; border-radius: 50%; border: 1px solid rgba(255,184,0,0.4); animation: orbitSpin 6s linear infinite; }
.pc-name             { font-family: 'Cinzel', serif; font-size: 15px; font-weight: 700; color: var(--text); margin-bottom: 8px; }
.pc-badge            { display: inline-block; background: linear-gradient(135deg, var(--red), var(--red-dk)); color: #fff; border-radius: 20px; padding: 4px 16px; font-size: 11px; font-weight: 700; margin-bottom: 10px; box-shadow: 0 4px 16px rgba(232,0,15,0.35); }
.pc-email            { font-size: 10.5px; color: var(--muted); margin-bottom: 12px; word-break: break-all; }
.pc-row              { display: flex; justify-content: space-between; font-size: 12px; padding: 7px 0; border-top: 1px solid var(--border3); color: var(--muted); }
.pc-row span:last-child { color: var(--text); font-weight: 600; }
.profile-edit-hint   { margin-top: 12px; font-size: 10.5px; color: var(--gold); opacity: .6; letter-spacing: .5px; border-top: 1px dashed rgba(255,184,0,0.2); padding-top: 10px; transition: opacity .2s; }
.clickable-profile:hover .profile-edit-hint { opacity: 1; }


/* ════════════════════════════════════════════════
   11. TEACHER SIDEBAR
   ════════════════════════════════════════════════ */

.sidebar-section-lbl { font-size: 9.5px; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; color: var(--muted); margin-bottom: 10px; padding-left: 2px; }

.gl-folder-group { margin-bottom: 8px; }
.gl-folder-hdr   { font-size: 9.5px; font-weight: 800; letter-spacing: 1px; text-transform: uppercase; padding: 6px 14px 4px; opacity: .8; }
.gl-g11          { color: #38bdf8; border-left: 2px solid #0ea5e9; margin-left: 4px; }
.gl-g12          { color: #34d399; border-left: 2px solid #10b981; margin-left: 4px; }

.strand-item {
  display: flex !important; align-items: center;
  background: var(--glass); border: 1px solid var(--border3);
  border-radius: 14px; padding: 12px 14px;
  cursor: pointer; transition: all .22s;
  backdrop-filter: blur(16px);
  position: relative; overflow: hidden; margin-bottom: 7px;
}
.strand-item > div { flex: 1; min-width: 0; }
.strand-item::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: linear-gradient(180deg, var(--red), var(--gold)); opacity: 0; transition: opacity .25s; border-radius: 3px 0 0 3px; }
.strand-item:hover,
.strand-item.active { border-color: rgba(232,0,15,0.35); background: rgba(232,0,15,0.08); transform: translateX(4px); }
.strand-item.active { background: rgba(232,0,15,0.12); }
.strand-item:hover::before,
.strand-item.active::before { opacity: 1; }

.si-icon { font-size: 18px; margin-right: 10px; }
.si-name { font-size: 13px; font-weight: 700; color: var(--text); }
.si-sub  { font-size: 10px; color: var(--muted); margin-top: 1px; }
.si-gl-badge { display: inline-flex; align-items: center; padding: 2px 7px; border-radius: 20px; font-size: 9px; font-weight: 800; letter-spacing: .3px; margin-left: auto; flex-shrink: 0; border: 1px solid; }
.si-gl-11    { background: rgba(14,165,233,0.12); border-color: rgba(14,165,233,0.3); color: #38bdf8; }
.si-gl-12    { background: rgba(16,185,129,0.12); border-color: rgba(16,185,129,0.3); color: #34d399; }


/* ════════════════════════════════════════════════
   12. TEACHER MAIN
   ════════════════════════════════════════════════ */

.tch-main {
  background: var(--glass); border: 1px solid var(--glass-border);
  border-radius: 22px; padding: 22px; min-width: 0; overflow: hidden;
  backdrop-filter: blur(20px);
}
.tch-header {
  display: flex; align-items: flex-start; justify-content: space-between;
  margin-bottom: 20px; gap: 12px; flex-wrap: wrap;
  background: linear-gradient(135deg, rgba(232,0,15,0.08), rgba(255,184,0,0.04));
  border: 1px solid rgba(232,0,15,0.15); border-radius: 18px; padding: 18px 20px;
  position: relative; overflow: hidden;
}
.tch-header::after { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(232,0,15,0.4), rgba(255,184,0,0.3), transparent); }
.tch-folder-title { font-family: 'Cinzel', serif; font-size: 19px; font-weight: 900; color: var(--text); margin-bottom: 3px; }
.tch-folder-sub   { font-size: 12px; color: var(--muted); }
.tch-header-right { display: flex; flex-direction: column; gap: 8px; align-items: flex-end; }
.tch-header-left  { /* default */ }

/* View / Section Tabs */
.view-tabs { display: flex; gap: 5px; flex-wrap: wrap; }
.vtab {
  padding: 7px 14px; border-radius: 20px; border: 1px solid var(--border3);
  background: rgba(0,0,0,0.3); font-family: 'Outfit', sans-serif;
  font-size: 11.5px; font-weight: 700; cursor: pointer; color: var(--muted); transition: all .2s;
}
.vtab.active { background: linear-gradient(135deg, var(--red), var(--red-dk)); color: #fff; border-color: var(--red); box-shadow: 0 4px 16px rgba(232,0,15,0.35); }

.sec-tabs { display: flex; gap: 5px; }
.stab {
  padding: 7px 18px; border-radius: 20px; border: 1px solid var(--border3);
  background: rgba(0,0,0,0.3); font-family: 'Outfit', sans-serif;
  font-size: 11.5px; font-weight: 700; cursor: pointer; color: var(--muted); transition: all .2s;
}
.stab.active { background: linear-gradient(135deg, #1e40af, #1e3a8a); color: #fff; border-color: #3b82f6; }

.tch-view { animation: fadeIn3d .25s ease; }


/* ════════════════════════════════════════════════
   13. SUBJECT LIST (Student)
   ════════════════════════════════════════════════ */

.sec-title { font-family: 'Cinzel', serif; font-size: 16px; font-weight: 700; color: var(--text); margin-bottom: 14px; display: flex; align-items: center; gap: 10px; }
.sec-title::after { content: ''; flex: 1; height: 1px; background: linear-gradient(90deg, rgba(232,0,15,0.4), transparent); }

.subject-list { display: flex; flex-direction: column; gap: 10px; margin-bottom: 26px; }
.subject-card {
  background: var(--glass); border: 1px solid var(--glass-border);
  border-radius: 16px; padding: 16px 18px;
  cursor: pointer; transition: all .25s;
  display: flex; align-items: center; justify-content: space-between;
  backdrop-filter: blur(16px); position: relative; overflow: hidden;
}
.subject-card::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: linear-gradient(180deg, var(--red), var(--gold)); opacity: 0; transition: opacity .25s; }
.subject-card:hover { transform: translateY(-3px) translateX(3px); border-color: rgba(232,0,15,0.4); box-shadow: -6px 6px 30px rgba(232,0,15,0.2); }
.subject-card:hover::before { opacity: 1; }

.subject-left    { display: flex; align-items: center; gap: 13px; }
.subject-icon    { width: 44px; height: 44px; border-radius: 12px; background: rgba(232,0,15,0.12); border: 1px solid rgba(232,0,15,0.25); display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 800; color: #ff8090; }
.sub-name        { font-size: 13px; font-weight: 700; color: var(--text); }
.sub-teacher     { font-size: 11px; color: var(--muted); margin-top: 2px; }
.subject-grade   { text-align: right; }
.grade-num       { font-size: 24px; font-weight: 800; color: var(--gold); font-family: 'Cinzel', serif; }
.grade-label     { font-size: 9px; color: var(--muted); text-transform: uppercase; }
.grade-pill      { display: inline-block; border-radius: 20px; padding: 2px 10px; font-size: 10px; font-weight: 700; margin-top: 2px; }
.pill-pass       { background: rgba(0,230,118,0.12); color: #5dde92; border: 1px solid rgba(0,230,118,0.3); }
.pill-fail       { background: rgba(232,0,15,0.12); color: #ff8090; border: 1px solid rgba(232,0,15,0.3); }

.stu-subjects-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px; }
.stu-subjects-header .sec-title { margin-bottom: 0; }
.btn-add-subject {
  display: flex; align-items: center; gap: 6px; padding: 9px 18px; border-radius: 20px;
  background: linear-gradient(135deg, rgba(255,184,0,0.15), rgba(255,184,0,0.05));
  border: 1.5px solid rgba(255,184,0,0.4); color: var(--gold);
  font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 700; cursor: pointer; transition: all .2s;
}
.btn-add-subject:hover { background: linear-gradient(135deg, rgba(255,184,0,0.25), rgba(255,184,0,0.12)); border-color: var(--gold); transform: translateY(-1px); }

.pending-card       { opacity: .7; cursor: default !important; }
.pending-card:hover { transform: none !important; }
.pending-badge      { display: inline-flex; align-items: center; gap: 5px; background: rgba(255,184,0,0.1); border: 1px solid rgba(255,184,0,0.3); color: var(--gold); border-radius: 20px; padding: 5px 12px; font-size: 11px; font-weight: 700; }

.no-subjects-msg { text-align: center; padding: 40px 20px; background: var(--glass); border: 1px dashed var(--border3); border-radius: 16px; }
.no-sub-icon     { font-size: 40px; margin-bottom: 12px; opacity: .5; }
.no-sub-text     { font-size: 15px; font-weight: 700; color: var(--text); margin-bottom: 6px; }
.no-sub-hint     { font-size: 12px; color: var(--muted); }


/* ════════════════════════════════════════════════
   14. GRADE CARD
   ════════════════════════════════════════════════ */

.grade-card { background: var(--glass); border: 1px solid var(--glass-border); border-radius: 18px; padding: 20px; overflow-x: auto; backdrop-filter: blur(20px); }

.grade-table          { width: 100%; border-collapse: collapse; font-size: 13px; }
.grade-table th       { background: linear-gradient(135deg, rgba(232,0,15,0.4), rgba(139,0,10,0.6)); color: #fff; padding: 12px 13px; text-align: left; font-weight: 700; font-size: 11px; letter-spacing: .5px; border-bottom: 1px solid rgba(255,255,255,0.1); }
.grade-table th:first-child { border-radius: 10px 0 0 0; }
.grade-table th:last-child  { border-radius: 0 10px 0 0; }
.grade-table td       { padding: 11px 13px; border-bottom: 1px solid var(--border3); color: var(--text2); }
.grade-table tr:last-child td { border-bottom: none; }
.grade-table tr:hover td     { background: rgba(232,0,15,0.04); }
.final-col            { font-weight: 800; font-size: 15px; color: var(--text) !important; }

.gwa-bar   { display: flex; align-items: center; gap: 14px; padding: 14px 22px; margin-top: 12px; background: linear-gradient(135deg, rgba(255,184,0,0.08), rgba(232,0,15,0.05)); border: 1px solid rgba(255,184,0,0.3); border-radius: 16px; }
.gwa-label { font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; color: var(--gold); flex: 1; }
.gwa-num   { font-size: 32px; font-weight: 900; font-family: 'Cinzel', serif; }
.gwa-rem   { padding: 4px 14px; border-radius: 20px; font-size: 11px; font-weight: 700; }

.sem-badge   { display: inline-flex; align-items: center; padding: 2px 10px; border-radius: 20px; font-size: 10px; font-weight: 800; margin-bottom: 8px; }
.sem-badge-1 { background: rgba(14,165,233,0.15); border: 1px solid rgba(14,165,233,0.4); color: #38bdf8; }
.sem-badge-2 { background: rgba(16,185,129,0.15); border: 1px solid rgba(16,185,129,0.4); color: #34d399; }


/* ════════════════════════════════════════════════
   15. GRADEBOOK
   ════════════════════════════════════════════════ */

.view-toolbar { margin-bottom: 16px; }

.gb-toolbar-inner,
.cr-toolbar-inner {
  display: flex; align-items: center; gap: 10px; flex-wrap: wrap;
  background: linear-gradient(135deg, rgba(0,0,0,0.4), rgba(232,0,15,0.04));
  border: 1px solid rgba(232,0,15,0.15); border-radius: 16px; padding: 12px 16px;
  backdrop-filter: blur(16px); position: relative; overflow: hidden; margin-bottom: 10px;
}
.gb-toolbar-inner::before,
.cr-toolbar-inner::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1.5px;
  background: linear-gradient(90deg, transparent, rgba(232,0,15,0.5), rgba(255,184,0,0.3), transparent);
}

.toolbar-lbl   { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); }
.qtr-tabs      { display: flex; gap: 4px; }
.qtr-btn       { padding: 6px 16px; border-radius: 20px; border: 1px solid var(--border3); background: rgba(0,0,0,0.4); font-family: 'Outfit', sans-serif; font-size: 12px; font-weight: 700; cursor: pointer; color: var(--muted); transition: all .2s; }
.qtr-btn.active{ background: linear-gradient(135deg, var(--gold), var(--gold-dk)); color: #1a0800; border-color: var(--gold); }
.save-qtr-btn  { margin-left: auto; padding: 8px 18px; border-radius: 20px; background: linear-gradient(135deg, #065f46, #14532d); color: #fff; border: 1px solid rgba(0,230,118,0.3); font-family: 'Outfit', sans-serif; font-size: 12px; font-weight: 700; cursor: pointer; transition: all .2s; white-space: nowrap; }
.save-qtr-btn:hover { filter: brightness(1.2); transform: translateY(-1px); }

.subj-pills   { display: flex; gap: 5px; flex-wrap: wrap; flex: 1; }
.subj-btn     { padding: 5px 12px; border-radius: 20px; border: 1.5px solid; font-family: 'Outfit', sans-serif; font-size: 11px; font-weight: 700; cursor: pointer; background: transparent; transition: all .2s; }
.subj-btn:hover { opacity: .85; transform: translateY(-1px); }
.subj-add-btn { display: inline-flex; align-items: center; gap: 4px; padding: 5px 12px; border-radius: 20px; border: 1.5px dashed rgba(255,255,255,0.35); background: transparent; color: rgba(255,255,255,0.55); font-size: 11px; font-weight: 600; cursor: pointer; font-family: 'Outfit', sans-serif; transition: all .2s; white-space: nowrap; }
.subj-add-btn:hover { border-color: #e8000f; color: #e8000f; background: rgba(232,0,15,0.08); }

/* Settings chip bar */
.gb-settings-strip {
  display: flex; flex-wrap: wrap; gap: 5px; align-items: center;
  padding: 10px 14px;
  background: linear-gradient(135deg, rgba(15,23,50,0.95) 0%, rgba(8,10,30,0.98) 100%);
  border: 1px solid rgba(59,130,246,0.25); border-radius: 14px; margin-bottom: 10px;
  backdrop-filter: blur(20px);
  box-shadow: 0 4px 20px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05);
  position: relative; overflow: hidden;
}
.gb-settings-strip::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1.5px;
  background: linear-gradient(90deg, transparent, rgba(59,130,246,0.6) 30%, rgba(167,139,250,0.5) 60%, transparent);
}
.gb-settings-strip-label { font-weight: 800; font-size: 10px; color: rgba(147,197,253,0.7); text-transform: uppercase; letter-spacing: 1px; margin-right: 4px; flex-shrink: 0; }
.gb-settings-chip {
  display: inline-flex; align-items: center; gap: 3px; padding: 4px 10px;
  border-radius: 20px; font-size: 10.5px; font-weight: 700;
  background: rgba(30,40,80,0.5); border: 1px solid;
  color: rgba(200,215,255,0.75); transition: all 0.18s; cursor: default; white-space: nowrap;
}
.gb-settings-chip:hover { background: rgba(59,130,246,0.2); color: #fff; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(59,130,246,0.25); }
.gb-settings-chip strong { color: #fff; font-weight: 900; }
.gb-settings-chip-sep    { color: rgba(147,197,253,0.25); font-size: 14px; padding: 0 1px; flex-shrink: 0; }
.gb-settings-edit-link   { margin-left: auto; background: rgba(59,130,246,0.12); border: 1px solid rgba(59,130,246,0.35); border-radius: 20px; padding: 4px 12px; color: #93c5fd; font-size: 11px; font-family: 'Outfit', sans-serif; font-weight: 700; cursor: pointer; transition: all 0.2s; flex-shrink: 0; }
.gb-settings-edit-link:hover { background: rgba(59,130,246,0.28); color: #fff; border-color: #3b82f6; transform: translateY(-1px); }

/* Gradebook Table */
.gb-table {
  border-collapse: separate; border-spacing: 0;
  width: 100%; min-width: 980px;
}

/* Sticky headers */
.gb-table thead tr:first-child th {
  position: sticky; top: 0; z-index: 20;
  background: linear-gradient(135deg, rgba(100,0,8,0.99), rgba(60,0,5,0.99)) !important;
  backdrop-filter: blur(10px);
  font-size: 10.5px !important; font-weight: 800 !important; letter-spacing: 0.5px !important;
  padding: 8px 6px !important; border-bottom: none !important;
}
.gb-table thead tr:nth-child(2) th {
  position: sticky; top: 46px; z-index: 19;
  background: rgba(8,2,5,0.99) !important; backdrop-filter: blur(12px) !important;
  border-bottom: 1px solid rgba(255,255,255,0.12) !important;
  font-size: 9.5px !important; font-weight: 800 !important; letter-spacing: 0.3px !important;
  padding: 6px !important; text-align: center !important; white-space: nowrap !important;
}
/* Sticky # and Name — both header rows */
.gb-table thead tr:first-child th:nth-child(1),
.gb-table thead tr:first-child th:nth-child(2) { z-index: 30 !important; background: rgba(80,0,8,0.99) !important; }
.gb-table thead tr:nth-child(2) th:nth-child(1),
.gb-table thead tr:nth-child(2) th:nth-child(2) { z-index: 29 !important; background: rgba(8,2,5,0.99) !important; }

.gb-table thead th { padding: 12px 10px; color: #fff; font-weight: 700; font-size: 11px; letter-spacing: .5px; border-bottom: 1px solid rgba(255,255,255,0.08); text-align: center; white-space: nowrap; }

/* Sticky body columns */
.gb-table thead th:nth-child(1),
.gb-table tbody td:nth-child(1) { position: sticky; left: 0; z-index: 22; }
.gb-table thead th:nth-child(2),
.gb-table tbody td:nth-child(2) { position: sticky; left: 40px; z-index: 22; }
.gb-table thead th:nth-child(1) { background: rgba(80,0,8,0.99) !important; }
.gb-table thead th:nth-child(2) { background: rgba(80,0,8,0.99) !important; }

.gb-table tbody td {
  padding: 9px 10px; border-bottom: 1px solid rgba(255,255,255,0.04);
  text-align: center; vertical-align: middle; color: var(--text2); font-size: 12px;
}
.gb-table tbody tr:hover td { background: rgba(232,0,15,0.035) !important; }
.gb-table tbody td:nth-child(1) { background: rgba(10,3,6,0.98); border-right: 1px solid rgba(255,255,255,0.06); min-width: 40px; width: 40px; }
.gb-table tbody td:nth-child(2) { background: rgba(12,3,7,0.98); border-right: 1px solid rgba(255,255,255,0.08); min-width: 180px; text-align: left; }
.gb-table tbody tr:hover td:nth-child(1),
.gb-table tbody tr:hover td:nth-child(2) { background: rgba(20,5,10,0.99) !important; }

.gb-group-th  { font-size: 10.5px !important; font-weight: 800 !important; letter-spacing: 0.5px !important; padding: 8px 6px !important; border-bottom: none !important; }
.gb-sub-th    { font-size: 9.5px !important; font-weight: 800 !important; letter-spacing: 0.3px !important; padding: 5px 6px !important; text-align: center !important; white-space: nowrap !important; }
.gb-subj-th   { background: linear-gradient(135deg, rgba(255,184,0,0.5), rgba(161,98,7,0.7)) !important; font-size: 10px !important; min-width: 90px; }
.gb-dynamic-max { font-size: 9px; opacity: .55; display: block; font-weight: 400; margin-top: 1px; }

.gb-num     { /* number col */ }
.gb-name    { /* name col */ }
.gb-num-td  { /* tbody number */ }
.gb-name-td { /* tbody name */ }
.gb-name-cell { text-align: left !important; font-weight: 600; color: var(--text); }

/* Scroll container */
.cr-scroll-wrap {
  overflow-x: auto; scrollbar-width: thin; scrollbar-color: var(--red-dk) transparent;
  border-radius: 12px; border: 1px solid var(--border3);
}
.cr-scroll-wrap::-webkit-scrollbar        { height: 5px; }
.cr-scroll-wrap::-webkit-scrollbar-thumb  { background: var(--red-dk); }

/* Score inputs */
.score-input-wrap      { display: flex; flex-direction: column; align-items: center; gap: 2px; }
.score-input-max-hint  { font-size: 9px; color: var(--muted); font-weight: 600; }
.score-input {
  width: 56px; padding: 6px 4px;
  border: 1.5px solid var(--border3); border-radius: 9px;
  font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 600;
  text-align: center; outline: none; transition: all .2s;
  background: rgba(0,0,0,0.4); color: var(--text);
}
.score-input:focus { border-color: var(--red); box-shadow: 0 0 0 3px rgba(232,0,15,0.15); background: rgba(232,0,15,0.06); }
.score-input::-webkit-outer-spin-button,
.score-input::-webkit-inner-spin-button  { -webkit-appearance: none; }
.score-input[type=number]                { -moz-appearance: textfield; }

/* Grade badges */
.final-badge       { border-radius: 20px; padding: 3px 11px; font-size: 12px; font-weight: 800; display: inline-block; }
.badge-outstanding { background: rgba(0,230,118,0.12); color: #5dde92; border: 1px solid rgba(0,230,118,0.3); }
.badge-vs          { background: rgba(0,180,255,0.12); color: #7bc8f5; border: 1px solid rgba(0,180,255,0.3); }
.badge-sat         { background: rgba(255,184,0,0.12); color: var(--gold); border: 1px solid rgba(255,184,0,0.3); }
.badge-fs          { background: rgba(255,120,40,0.12); color: #f0a050; border: 1px solid rgba(255,120,40,0.3); }
.badge-fail        { background: rgba(232,0,15,0.12); color: #ff8090; border: 1px solid rgba(232,0,15,0.3); }

/* Legend */
.legend-bar { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 14px; font-size: 11px; color: var(--muted); padding-top: 14px; border-top: 1px solid var(--border3); }

/* Search */
.gb-search-wrap    { position: relative; display: flex; align-items: center; }
.gb-search-icon    { position: absolute; left: 11px; font-size: 14px; pointer-events: none; opacity: .5; }
.gb-search-input   { padding: 8px 30px 8px 34px; border: 1.5px solid var(--border3); border-radius: 20px; font-family: 'Outfit', sans-serif; font-size: 12px; color: var(--text); background: var(--input-bg); outline: none; transition: all .22s; min-width: 180px; }
.gb-search-input:focus { border-color: var(--gold); box-shadow: 0 0 0 3px rgba(255,184,0,0.12); }
.gb-search-clear   { position: absolute; right: 8px; background: none; border: none; cursor: pointer; font-size: 12px; color: var(--muted); padding: 2px 4px; border-radius: 50%; transition: all .2s; }
.gb-hl             { background: rgba(255,184,0,0.3); color: var(--text); border-radius: 3px; padding: 0 2px; }
.gb-no-results     { text-align: center; padding: 24px; color: var(--muted); font-size: 13px; }
.gb-no-subject-state { padding: 32px; text-align: center; font-size: 15px; color: var(--muted); line-height: 1.8; }

/* Saved badge */
.subj-saved-badge         { display: inline-block; border-radius: 20px; padding: 3px 11px; font-size: 12px; font-weight: 700; background: rgba(255,255,255,0.04); border: 1px solid var(--border3); color: var(--dim); }
.subj-saved-badge.has-grade { background: rgba(255,184,0,0.1); border-color: rgba(255,184,0,0.4); color: var(--gold); }

/* Gender row */
.cr-gender-row { padding: 8px 14px; font-size: 11px; font-weight: 800; text-align: left; letter-spacing: .5px; border-top: 2px solid rgba(232,0,15,0.3); border-bottom: 1px solid rgba(232,0,15,0.2); color: rgba(255,255,255,0.9); background: linear-gradient(90deg, rgba(60,5,15,0.9), rgba(20,2,8,0.9)) !important; }


/* ════════════════════════════════════════════════
   16. CLASS RECORD TABLE
   ════════════════════════════════════════════════ */

.cr-table { border-collapse: separate; border-spacing: 0; font-size: 12px; white-space: nowrap; min-width: max-content; width: 100%; }
.cr-th    { padding: 0; border: none; text-align: center; color: #fff; font-weight: 700; font-size: 10px; border-bottom: 1px solid rgba(255,255,255,0.08); border-right: 1px solid rgba(255,255,255,0.06); }
.cr-subj-hdr  { padding: 10px 8px; font-size: 11px; font-weight: 800; letter-spacing: .8px; text-transform: uppercase; }
.cr-qtr-hdr   { padding: 8px 10px; font-size: 10.5px; font-weight: 700; }
.cr-final-hdr { padding: 8px 10px; font-size: 10px; font-weight: 800; letter-spacing: .5px; }
.cr-th.cr-num-col  { min-width: 36px; width: 36px; }
.cr-th.cr-name-col { min-width: 200px; width: 200px; }
.cr-sticky { position: sticky; z-index: 10; }
.cr-num-col.cr-sticky  { left: 0; }
.cr-name-col.cr-sticky { left: 36px; }
.cr-th.cr-sticky { background: rgba(12,2,6,0.98) !important; }

.cr-row    { transition: background .12s; }
.cr-alt td.cr-td     { background: rgba(255,255,255,0.015) !important; }
.cr-row:hover td.cr-td { background: rgba(232,0,15,0.04) !important; }
.cr-td     { padding: 0; border-bottom: 1px solid rgba(255,255,255,0.03); border-right: 1px solid rgba(255,255,255,0.03); text-align: center; vertical-align: middle; }
.cr-num-td { background: rgba(8,2,5,0.95) !important; font-size: 10px; font-weight: 700; color: var(--muted); padding: 6px 4px; text-align: center; border-right: 1px solid rgba(255,255,255,0.06) !important; }
.cr-name-td { background: rgba(10,2,6,0.95) !important; text-align: left; padding: 8px 12px; font-size: 12.5px; font-weight: 600; color: var(--text); border-right: 1px solid rgba(255,255,255,0.08) !important; }
.cr-score-td  { background: rgba(0,0,0,0.15); }
.cr-final-td  { min-width: 70px; }
.cr-female-row { background: linear-gradient(90deg, rgba(80,0,50,0.8), rgba(45,0,28,0.8)) !important; border-top-color: rgba(220,0,100,0.4); border-bottom-color: rgba(220,0,100,0.2); }
.cr-final-badge { border-radius: 12px; padding: 4px 10px; font-size: 11px; font-weight: 800; display: inline-block; white-space: nowrap; }
.cr-input {
  width: 52px; padding: 6px 4px;
  border: 1px solid rgba(255,255,255,0.1); border-radius: 8px;
  font-family: 'Outfit', sans-serif; font-size: 12px; font-weight: 600;
  text-align: center; background: rgba(0,0,0,0.4); color: var(--text);
  outline: none; transition: all .18s;
}
.cr-input:focus { border-color: var(--red); background: rgba(232,0,15,0.1); }
.cr-input::-webkit-outer-spin-button,
.cr-input::-webkit-inner-spin-button { -webkit-appearance: none; }
.cr-input[type=number] { -moz-appearance: textfield; }


/* ════════════════════════════════════════════════
   17. ATTENDANCE
   ════════════════════════════════════════════════ */

.att-legend   { display: flex; align-items: center; gap: 10px; margin-bottom: 14px; flex-wrap: wrap; }
.att-key      { padding: 4px 12px; border-radius: 20px; font-size: 11.5px; font-weight: 700; }
.att-p        { background: rgba(0,230,118,0.12); color: #5dde92; border: 1px solid rgba(0,230,118,0.3); }
.att-a        { background: rgba(232,0,15,0.12); color: #ff8090; border: 1px solid rgba(232,0,15,0.3); }
.att-l        { background: rgba(255,184,0,0.12); color: var(--gold); border: 1px solid rgba(255,184,0,0.3); }
.att-hint     { font-size: 11px; color: var(--muted); }
.att-day-hdr  { padding: 4px 1px; font-size: 8px; min-width: 19px; }
.att-sub-hdr  { padding: 4px 2px; font-size: 8.5px; font-weight: 700; min-width: 24px; }
.att-total-hdr{ padding: 5px 4px; font-size: 9.5px; font-weight: 700; min-width: 48px; }
.att-total-sub{ padding: 4px; font-size: 9px; font-weight: 700; color: #fff; min-width: 24px; border: 1px solid rgba(255,255,255,0.08); text-align: center; }
.att-day-cell { padding: 1px; }
.att-count-cell { padding: 3px; font-size: 9.5px; font-weight: 700; text-align: center; color: var(--muted); }
.att-total-cell { padding: 4px; font-size: 10px; font-weight: 700; text-align: center; background: rgba(0,0,0,0.3); color: var(--muted); }
.att-input {
  width: 18px; padding: 2px 1px;
  border: 1px solid transparent; border-radius: 3px;
  font-family: 'Outfit', sans-serif; font-size: 9.5px; font-weight: 700;
  text-align: center; background: rgba(0,0,0,0.3); color: var(--text);
  outline: none; text-transform: uppercase; transition: all .12s;
}
.att-input:focus { border-color: rgba(255,255,255,0.3); }
.att-p-cell { background: rgba(0,230,118,0.2) !important; color: #5dde92 !important; }
.att-a-cell { background: rgba(232,0,15,0.2) !important; color: #ff8090 !important; }
.att-l-cell { background: rgba(255,184,0,0.2) !important; color: var(--gold) !important; }


/* ════════════════════════════════════════════════
   18. BASE MODAL
   ════════════════════════════════════════════════ */

.modal-overlay {
  position: fixed; inset: 0; z-index: 200;
  background: rgba(0,0,0,0.8); backdrop-filter: blur(12px);
  display: flex; align-items: center; justify-content: center; padding: 20px;
}
.modal-card {
  background: var(--glass); border: 1px solid var(--glass-border);
  border-radius: 24px; padding: 36px 30px 28px;
  width: 100%; max-width: 520px; position: relative;
  box-shadow: 0 60px 120px rgba(0,0,0,0.9), 0 0 60px rgba(232,0,15,0.1);
  max-height: 90vh; overflow-y: auto;
  backdrop-filter: blur(40px);
  animation: modalIn .3s cubic-bezier(0.34,1.56,0.64,1);
}
.modal-card::before { content: ''; display: block; height: 2px; border-radius: 2px; background: linear-gradient(90deg, var(--red), var(--gold), transparent); margin-bottom: 24px; }
.modal-close {
  position: absolute; top: 14px; right: 14px;
  background: rgba(255,255,255,0.06); border: 1px solid var(--glass-border);
  font-size: 13px; cursor: pointer; color: var(--muted);
  width: 32px; height: 32px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center; transition: all .2s;
}
.modal-close:hover { background: rgba(232,0,15,0.2); color: #fff; }
.modal-title { font-family: 'Cinzel', serif; font-size: 20px; font-weight: 700; color: var(--text); }
.modal-sub   { font-size: 12px; color: var(--muted); margin: 4px 0 14px; }


/* ════════════════════════════════════════════════
   19. SUBJECT DETAIL MODAL
   ════════════════════════════════════════════════ */

.sm-hdr           { display: flex; align-items: center; gap: 14px; border: 1px solid; border-radius: 16px; padding: 16px 18px; margin-bottom: 16px; background: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01)); position: relative; overflow: hidden; }
.sm-hdr-icon      { width: 48px; height: 48px; flex-shrink: 0; border-radius: 12px; border: 1px solid; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 800; }
.sm-hdr-name      { font-family: 'Cinzel', serif; font-size: 15px; font-weight: 700; color: #fff; }
.sm-hdr-teacher   { font-size: 11px; color: rgba(255,255,255,0.4); margin-top: 2px; }
.sm-hdr-grade     { margin-left: auto; text-align: center; flex-shrink: 0; }
.sm-hdr-grade-num { font-family: 'Cinzel', serif; font-size: 30px; font-weight: 900; line-height: 1; }
.sm-hdr-grade-lbl { font-size: 9px; text-transform: uppercase; letter-spacing: 1px; color: rgba(255,255,255,0.35); margin-top: 3px; }

.sm-sem-summary { display: flex; gap: 10px; margin: 12px 0; flex-wrap: wrap; }
.sm-sem-box     { flex: 1; min-width: 130px; padding: 12px 16px; border-radius: 14px; text-align: center; }
.sm-sem-box-1   { background: rgba(14,165,233,0.08); border: 1px solid rgba(14,165,233,0.25); }
.sm-sem-box-2   { background: rgba(16,185,129,0.08); border: 1px solid rgba(16,185,129,0.25); }
.sm-sem-lbl     { font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: .7px; margin-bottom: 6px; }
.sm-sem-box-1 .sm-sem-lbl { color: #38bdf8; }
.sm-sem-box-2 .sm-sem-lbl { color: #34d399; }
.sm-sem-qtrs    { font-size: 11px; color: var(--muted); margin-bottom: 6px; display: flex; gap: 8px; justify-content: center; }
.sm-sem-grade   { font-size: 22px; font-weight: 900; font-family: 'Cinzel', serif; }

/* Quarter tabs */
.sm-qtabs { display: flex; gap: 6px; margin-bottom: 16px; }
.sm-qtab  {
  flex: 1; padding: 10px 6px; border-radius: 12px;
  border: 1px solid var(--border3); background: rgba(0,0,0,0.3);
  cursor: pointer !important; font-family: 'Outfit', sans-serif;
  display: flex; flex-direction: column; align-items: center; gap: 4px;
  transition: all .2s !important; user-select: none !important;
}
.sm-qtab:hover:not(.active) { background: rgba(255,255,255,0.04) !important; border-color: rgba(255,184,0,0.3) !important; transform: translateY(-2px) !important; }
.sm-qtab.active { background: linear-gradient(135deg, rgba(255,184,0,0.18), rgba(255,184,0,0.06)) !important; border-color: rgba(255,184,0,0.6) !important; box-shadow: 0 0 16px rgba(255,184,0,0.15); }
.sm-qtab-lbl   { font-size: 11px; font-weight: 800; color: var(--text); letter-spacing: 1px; }
.sm-qtab-grade { font-size: 14px; font-weight: 900; color: var(--gold); font-family: 'Cinzel', serif; }
.sm-qtab-empty { font-size: 13px; color: var(--muted); }

.sm-qpanel     { animation: fadeIn3d .2s ease; }
.sm-q-footer   { display: flex; align-items: center; justify-content: space-between; margin-top: 12px; padding: 12px 16px; background: rgba(0,0,0,0.3); border: 1px solid var(--border3); border-radius: 12px; }
.sm-q-footer-lbl { font-size: 12px; font-weight: 600; color: var(--muted); }
.sm-q-footer-val { font-size: 15px; font-weight: 800; font-family: 'Cinzel', serif; }
.sm-q-none       { color: var(--muted); font-size: 12px; font-family: 'Outfit', sans-serif; font-weight: 400; }

.sm-final-bar  { display: flex; align-items: center; gap: 12px; margin-top: 16px; padding: 14px 18px; background: linear-gradient(135deg, rgba(255,184,0,0.08), rgba(232,0,15,0.04)); border: 1px solid rgba(255,184,0,0.25); border-radius: 14px; }
.sm-final-lbl  { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: .5px; color: var(--muted); }
.sm-final-num  { font-family: 'Cinzel', serif; font-size: 26px; font-weight: 900; margin-left: auto; }
.sm-final-rem  { font-size: 11px; font-weight: 700; color: var(--gold); min-width: 80px; text-align: right; }

/* Score cards */
.sm-score-group         { margin-bottom: 16px; }
.sm-score-group-label   { font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; padding: 0 4px; }
.sm-score-group-label::after { content: ''; flex: 1; height: 1px; background: currentColor; opacity: .15; }
.sm-score-card {
  display: flex; align-items: center; gap: 10px;
  background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05);
  border-radius: 12px; padding: 10px 14px;
  transition: all .2s; position: relative; overflow: hidden; margin-bottom: 6px;
}
.sm-score-card::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; border-radius: 3px 0 0 3px; background: var(--sc-color, var(--muted)); }
.sm-score-icon      { font-size: 16px; flex-shrink: 0; }
.sm-score-label     { font-size: 12px; font-weight: 600; color: var(--text2); min-width: 90px; }
.sm-score-bar-wrap  { flex: 1; height: 8px; border-radius: 4px; background: rgba(255,255,255,0.06); overflow: hidden; }
.sm-score-bar-fill  { height: 100%; border-radius: 4px; width: 0%; transition: width .6s cubic-bezier(0.34,1.2,0.64,1); }
.sm-score-value     { font-size: 14px; font-weight: 800; color: var(--text); min-width: 70px; text-align: right; font-family: 'Cinzel', serif; }
.sm-score-max       { font-size: 10px; color: var(--muted); font-weight: 400; }
.sm-score-empty     { color: var(--muted); font-weight: 400; font-family: 'Outfit', sans-serif; font-size: 12px; }

.sm-no-scores      { text-align: center; padding: 24px; background: rgba(255,255,255,0.02); border: 1px dashed rgba(255,255,255,0.08); border-radius: 14px; color: var(--muted); font-size: 13px; margin-bottom: 10px; }
.sm-no-scores-icon { font-size: 32px; margin-bottom: 8px; opacity: .5; }


/* ════════════════════════════════════════════════
   20. ADD SUBJECT MODAL (Student)
   ════════════════════════════════════════════════ */

#addSubjectModal .modal-card {
  max-width: 660px !important; padding: 0 !important;
  overflow: hidden !important; border-radius: 24px !important;
  max-height: 90vh !important; display: flex !important; flex-direction: column !important;
}
#addSubjectModal .modal-card::before { display: none !important; }
#addSubjectModal .modal-close { position: absolute !important; top: 14px !important; right: 14px !important; z-index: 30 !important; }
#addSubjectContent { flex: 1 !important; overflow-y: auto !important; min-height: 0 !important; }

.asj-modal-hdr { padding: 22px 28px 16px; background: linear-gradient(135deg, rgba(232,0,15,0.12), rgba(180,0,60,0.06)); border-bottom: 1px solid rgba(232,0,15,0.2); position: relative; }
.asj-modal-hdr::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, var(--red), var(--gold), transparent); }
.asj-modal-title { font-family: 'Cinzel', serif; font-size: 18px; font-weight: 700; color: #fff; margin-bottom: 3px; }
.asj-modal-sub   { font-size: 11px; color: var(--muted); }

.asj-stats-bar   { display: flex; align-items: center; gap: 0; padding: 14px 24px; background: rgba(0,0,0,0.25); border-bottom: 1px solid rgba(255,255,255,0.06); }
.asj-stat        { display: flex; flex-direction: column; align-items: center; flex: 1; gap: 2px; }
.asj-stat-num    { font-family: 'Cinzel', serif; font-size: 22px; font-weight: 900; color: #e8000f; line-height: 1; }
.asj-stat-lbl    { font-size: 9.5px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); }
.asj-stat-div    { width: 1px; height: 36px; background: rgba(255,255,255,0.08); }

.asj-search-wrap { position: relative; padding: 14px 20px 8px; background: rgba(0,0,0,0.15); border-bottom: 1px solid rgba(255,255,255,0.05); }
.asj-search-icon { position: absolute; left: 34px; top: 50%; transform: translateY(-50%); font-size: 15px; opacity: 0.5; pointer-events: none; margin-top: 3px; }
.asj-search-input {
  width: 100%; padding: 11px 36px 11px 42px;
  border: 1.5px solid rgba(232,0,15,0.25); border-radius: 14px;
  font-family: 'Outfit', sans-serif; font-size: 13px; color: var(--text);
  background: rgba(0,0,0,0.35); outline: none; transition: all 0.25s;
}
.asj-search-input:focus { border-color: var(--red); box-shadow: 0 0 0 3px rgba(232,0,15,0.12); background: rgba(20,0,5,0.5); }
.asj-search-input::placeholder { color: rgba(255,255,255,0.2); }
.asj-search-clear { position: absolute; right: 32px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.12); border-radius: 50%; width: 22px; height: 22px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 10px; color: var(--muted); margin-top: 3px; transition: all 0.2s; }
.asj-search-clear:hover { background: rgba(232,0,15,0.2); color: #fff; }

.asj-catalog { max-height: 340px !important; overflow-y: auto !important; padding: 8px 12px 12px; scrollbar-width: thin; scrollbar-color: rgba(232,0,15,0.4) transparent; }
.asj-catalog::-webkit-scrollbar       { width: 4px; }
.asj-catalog::-webkit-scrollbar-thumb { background: rgba(232,0,15,0.4); border-radius: 2px; }

.asj-cat-group { margin-bottom: 10px; border-radius: 14px; overflow: hidden; border: 1px solid rgba(255,255,255,0.06); }
.asj-cat-hdr   { display: flex; align-items: center; gap: 8px; padding: 9px 14px; background: rgba(0,0,0,0.3); border-bottom: 1px solid rgba(255,255,255,0.05); }
.asj-cat-icon  { font-size: 14px; }
.asj-cat-name  { font-size: 10.5px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.8px; color: var(--cat-color, #fff); flex: 1; }
.asj-cat-count    { font-size: 10px; font-weight: 600; color: rgba(255,255,255,0.3); background: rgba(255,255,255,0.06); border-radius: 20px; padding: 2px 8px; }
.asj-cat-enrolled { font-size: 10px; font-weight: 700; color: #5dde92; background: rgba(0,230,118,0.1); border: 1px solid rgba(0,230,118,0.2); border-radius: 20px; padding: 2px 8px; }
.asj-cat-items    { background: rgba(0,0,0,0.1); }

.asj-item        { display: flex; align-items: center; gap: 10px; padding: 10px 14px; border-bottom: 1px solid rgba(255,255,255,0.03); transition: all 0.15s; }
.asj-item:last-child { border-bottom: none; }
.asj-item-avail  { cursor: pointer; }
.asj-item-avail:hover { background: rgba(var(--cat-color, 232,0,15), 0.06); padding-left: 20px; }
.asj-item-taken  { opacity: .55; cursor: not-allowed; }
.asj-item-dot    { width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; opacity: 0.7; }
.asj-item-check  { width: 18px; height: 18px; border-radius: 50%; background: rgba(0,230,118,0.15); border: 1px solid rgba(0,230,118,0.4); display: flex; align-items: center; justify-content: center; font-size: 9px; color: #5dde92; font-weight: 900; flex-shrink: 0; }
.asj-item-name   { flex: 1; font-size: 12.5px; color: rgba(255,255,255,0.82); line-height: 1.4; }
.asj-item-taken .asj-item-name { color: rgba(255,255,255,0.38); }
.asj-item-tag    { flex-shrink: 0; font-size: 10px; font-weight: 700; padding: 3px 10px; border-radius: 20px; white-space: nowrap; transition: all 0.2s; }
.asj-tag-select  { background: rgba(232,0,15,0.1); border: 1px solid rgba(232,0,15,0.35); color: #ff8090; opacity: 0; transform: translateX(4px); }
.asj-item-avail:hover .asj-tag-select { opacity: 1; transform: translateX(0); }
.asj-tag-enrolled { background: rgba(0,230,118,0.08); border: 1px solid rgba(0,230,118,0.2); color: #5dde92; }
.asj-hl  { background: rgba(255,184,0,0.3); color: #fff; border-radius: 3px; padding: 0 2px; }
.asj-empty      { text-align: center; padding: 40px 20px; color: var(--muted); }
.asj-empty-icon { font-size: 36px; margin-bottom: 10px; opacity: 0.5; }
.asj-empty-text { font-size: 13px; }

/* Step 2 — Teacher picker */
.asj-step2      { padding: 0; }
.asj-step2-hdr  { padding: 14px 20px; border-bottom: 1px solid rgba(255,255,255,0.06); background: rgba(0,0,0,0.2); }
.asj-back-btn   { display: inline-flex; align-items: center; gap: 6px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1); color: var(--muted); font-family: 'Outfit', sans-serif; font-size: 12px; font-weight: 600; padding: 7px 14px; border-radius: 10px; cursor: pointer; transition: all 0.2s; }
.asj-back-btn:hover { color: var(--text); border-color: var(--gold); }
.asj-selected-subj-card { display: flex; align-items: center; gap: 14px; margin: 16px 20px; padding: 14px 18px; background: linear-gradient(135deg, rgba(232,0,15,0.08), rgba(180,0,40,0.04)); border: 1px solid rgba(232,0,15,0.25); border-radius: 16px; position: relative; overflow: hidden; }
.asj-selected-subj-card::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: linear-gradient(180deg, var(--red), var(--gold)); border-radius: 3px 0 0 3px; }
.asj-selected-icon { font-size: 28px; flex-shrink: 0; }
.asj-selected-name { font-size: 14px; font-weight: 700; color: #fff; margin-bottom: 3px; }
.asj-selected-hint { font-size: 11px; color: rgba(255,255,255,0.4); }
.asj-teacher-heading { display: flex; align-items: center; gap: 7px; padding: 0 20px 8px; font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 1.2px; color: var(--gold); }
.asj-teacher-list { padding: 0 20px; display: flex; flex-direction: column; gap: 8px; max-height: 280px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: rgba(255,184,0,0.3) transparent; }
.asj-teacher-list::-webkit-scrollbar       { width: 4px; }
.asj-teacher-list::-webkit-scrollbar-thumb { background: rgba(255,184,0,0.3); }
.asj-teacher-card { display: flex; align-items: center; gap: 12px; padding: 13px 16px; border: 1.5px solid rgba(255,255,255,0.07); border-radius: 14px; background: rgba(255,255,255,0.02); cursor: pointer; transition: all 0.2s; position: relative; overflow: hidden; }
.asj-teacher-card::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background: var(--gold); opacity: 0; transition: opacity 0.2s; border-radius: 3px 0 0 3px; }
.asj-teacher-card:hover         { border-color: rgba(255,184,0,0.35); background: rgba(255,184,0,0.04); transform: translateX(3px); }
.asj-teacher-card:hover::before { opacity: 1; }
.asj-teacher-card.selected      { border-color: var(--gold); background: rgba(255,184,0,0.08); box-shadow: 0 0 20px rgba(255,184,0,0.1); }
.asj-teacher-card.selected::before { opacity: 1; }
.asj-tcard-avatar   { width: 42px; height: 42px; border-radius: 50%; background: linear-gradient(135deg, rgba(30,64,175,0.4), rgba(30,64,175,0.2)); border: 2px solid rgba(30,64,175,0.5); display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0; }
.asj-teacher-card.selected .asj-tcard-avatar { border-color: var(--gold); background: rgba(255,184,0,0.15); }
.asj-tcard-info   { flex: 1; min-width: 0; }
.asj-tcard-name   { font-size: 13px; font-weight: 700; color: var(--text); }
.asj-tcard-email  { font-size: 10px; color: var(--muted); margin-top: 2px; }
.asj-tcard-radio  { width: 20px; height: 20px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2); flex-shrink: 0; transition: all 0.2s; position: relative; display: flex; align-items: center; justify-content: center; }
.asj-teacher-card.selected .asj-tcard-radio { border-color: var(--gold); background: var(--gold); }
.asj-teacher-card.selected .asj-tcard-radio::after { content: ''; width: 8px; height: 8px; border-radius: 50%; background: #1a0800; }

.asj-submit-btn {
  display: flex; align-items: center; justify-content: center; gap: 8px;
  width: calc(100% - 40px); margin: 16px 20px 20px; padding: 14px;
  border: none; border-radius: 14px;
  background: linear-gradient(135deg, rgba(232,0,15,0.4), rgba(139,0,10,0.5));
  color: rgba(255,255,255,0.4); font-family: 'Outfit', sans-serif;
  font-size: 14px; font-weight: 700; cursor: not-allowed; transition: all 0.3s;
  border: 1px solid rgba(232,0,15,0.2);
}
.asj-submit-btn:not(:disabled) { background: linear-gradient(135deg, var(--red), var(--red-dk)); color: #fff; cursor: pointer; box-shadow: 0 8px 24px rgba(232,0,15,0.4); border-color: var(--red); }
.asj-submit-btn:not(:disabled):hover { transform: translateY(-2px); box-shadow: 0 12px 30px rgba(232,0,15,0.55); }

#addSubjectModal .modal-title { padding: 22px 28px 4px; display: block; }
#addSubjectModal .modal-sub   { padding: 0 28px 14px; display: block; border-bottom: 1px solid rgba(255,255,255,0.06); }


/* ════════════════════════════════════════════════
   21. ADD STUDENT MODAL (Teacher)
   ════════════════════════════════════════════════ */

.add-stu-modal-card { max-width: 520px !important; }
.add-stu-modal      { padding: 4px 0; }
.add-stu-title      { font-family: 'Cinzel', serif; font-size: 18px; font-weight: 700; color: var(--text); margin-bottom: 4px; }
.add-stu-subtitle   { font-size: 12px; color: var(--muted); margin-bottom: 14px; }
.add-stu-search-wrap{ margin-bottom: 14px; }
.add-stu-list       { display: flex; flex-direction: column; gap: 8px; max-height: 360px; overflow-y: auto; padding-right: 2px; }
.add-stu-list::-webkit-scrollbar       { width: 4px; }
.add-stu-list::-webkit-scrollbar-thumb { background: rgba(59,130,246,0.4); }
.add-stu-card  { display: flex; align-items: center; gap: 12px; background: rgba(255,255,255,.03); border: 1.5px solid var(--border3); border-radius: 14px; padding: 12px 16px; transition: all .2s; }
.add-stu-card:hover { border-color: rgba(59,130,246,.4); background: rgba(59,130,246,.04); }
.astu-avatar   { font-size: 26px; flex-shrink: 0; }
.astu-info     { flex: 1; min-width: 0; }
.astu-name     { font-size: 13px; font-weight: 700; color: var(--text); }
.astu-email    { font-size: 10.5px; color: var(--muted); }
.astu-strand   { font-size: 10px; color: var(--gold); margin-top: 2px; font-weight: 600; }
.astu-add-btn  { padding: 7px 16px; border-radius: 20px; background: linear-gradient(135deg, #1e40af, #1e3a8a); border: 1px solid rgba(59,130,246,.3); color: #fff; font-family: 'Outfit', sans-serif; font-size: 12px; font-weight: 700; cursor: pointer; white-space: nowrap; transition: all .2s; }
.astu-add-btn:hover { filter: brightness(1.15); transform: translateY(-1px); }
.add-stu-empty { text-align: center; padding: 24px; color: var(--muted); font-size: 13px; }


/* ════════════════════════════════════════════════
   22. PROFILE MODAL
   ════════════════════════════════════════════════ */

.profile-modal-card { max-width: 580px; padding: 0; overflow: hidden; border-radius: 28px; }
.profile-modal-card::before { display: none; }

.pm-header { background: linear-gradient(135deg, rgba(60,0,10,0.95), rgba(20,2,8,0.98)); padding: 30px 30px 22px; display: flex; align-items: center; gap: 20px; border-bottom: 1px solid var(--border3); position: relative; overflow: hidden; }
.pm-header::after { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, var(--red), var(--gold), transparent); }

.pm-avatar-wrap   { position: relative; flex-shrink: 0; }
.pm-avatar        { width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, rgba(232,0,15,0.2), rgba(100,0,8,0.4)); border: 3px solid var(--gold); display: flex; align-items: center; justify-content: center; font-size: 38px; box-shadow: 0 0 0 6px rgba(255,184,0,0.08), 0 0 30px rgba(232,0,15,0.5); position: relative; z-index: 1; }
.pm-avatar-ring   { position: absolute; inset: -10px; border-radius: 50%; border: 1px solid rgba(255,184,0,0.35); animation: orbitSpin 5s linear infinite; }
.pm-avatar-ring-2 { position: absolute; inset: -18px; border-radius: 50%; border: 1px dashed rgba(232,0,15,0.2); animation: orbitSpin 9s linear infinite reverse; }

.pm-head-info       { flex: 1; min-width: 0; }
.pm-name            { font-family: 'Cinzel', serif; font-size: 20px; font-weight: 700; color: #fff; margin-bottom: 7px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.pm-role-badge      { display: inline-block; background: linear-gradient(135deg, var(--gold), var(--gold-dk)); color: #1a0800; border-radius: 20px; padding: 4px 16px; font-size: 11px; font-weight: 800; margin-bottom: 7px; box-shadow: 0 4px 16px rgba(255,184,0,0.3); letter-spacing: 1px; text-transform: uppercase; }
.pm-email-display   { font-size: 11.5px; color: rgba(255,255,255,0.45); word-break: break-all; }

.pm-tabs    { display: flex; background: rgba(0,0,0,0.4); border-bottom: 1px solid var(--border3); padding: 0 24px; gap: 4px; }
.pm-tab     { padding: 14px 18px; border: none; background: transparent; font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 700; cursor: pointer; color: var(--muted); border-bottom: 2px solid transparent; margin-bottom: -1px; transition: all .2s; }
.pm-tab:hover      { color: var(--text); }
.pm-tab.active     { color: var(--gold); border-bottom-color: var(--gold); }

.pm-panel { padding: 24px 30px 28px; max-height: 65vh; overflow-y: auto; }
.pm-panel::-webkit-scrollbar       { width: 4px; }
.pm-panel::-webkit-scrollbar-thumb { background: var(--red-dk); }

.pm-info-grid  { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 24px; }
.pm-info-wide  { grid-column: 1 / -1; }
.pm-info-item  { background: rgba(255,255,255,0.03); border: 1px solid var(--border3); border-radius: 14px; padding: 13px 15px; display: flex; align-items: flex-start; gap: 11px; transition: all .25s; }
.pm-info-item:hover { border-color: rgba(255,184,0,0.3); background: rgba(255,184,0,0.04); transform: translateY(-2px); }
.pm-info-icon  { font-size: 20px; flex-shrink: 0; margin-top: 1px; }
.pm-info-lbl   { font-size: 9.5px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); margin-bottom: 4px; }
.pm-info-val   { font-size: 14px; font-weight: 600; color: var(--text); word-break: break-all; }

.pm-edit-section { background: rgba(0,0,0,0.3); border: 1px solid var(--border3); border-radius: 18px; padding: 18px 20px; }
.pm-edit-title   { font-size: 10.5px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; color: var(--gold); margin-bottom: 16px; }
.pm-edit-row2    { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

.pm-pass-intro { display: flex; gap: 14px; align-items: flex-start; background: rgba(232,0,15,0.06); border: 1px solid rgba(232,0,15,0.2); border-radius: 14px; padding: 16px 18px; margin-bottom: 20px; }
.pm-pass-icon  { font-size: 28px; flex-shrink: 0; }
.pm-pass-intro p { font-size: 13px; line-height: 1.7; color: var(--text2); }


/* ════════════════════════════════════════════════
   23. SCORE SETTINGS MODAL
   ════════════════════════════════════════════════ */

.settings-modal-card {
  max-width: 700px !important; padding: 0 !important;
  overflow: visible !important; border-radius: 24px !important; position: relative !important;
}
.settings-modal-card::before { display: none !important; }
.settings-modal-card > .modal-close { position: absolute !important; top: 14px !important; right: 14px !important; z-index: 10 !important; background: rgba(255,255,255,0.1) !important; border: 1px solid rgba(255,255,255,0.2) !important; color: #fff !important; width: 34px !important; height: 34px !important; }
.settings-modal-card > .modal-close:hover { background: rgba(232,0,15,0.4) !important; }

.sm-settings-head { background: linear-gradient(135deg, rgba(30,64,175,0.3), rgba(15,30,100,0.5)); border-bottom: 1px solid rgba(59,130,246,0.3); padding: 22px 28px 18px; position: relative; overflow: hidden; border-radius: 24px 24px 0 0; }
.sm-settings-head::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, #3b82f6, #818cf8, transparent); }
.sm-settings-title { font-family: 'Cinzel', serif; font-size: 18px; font-weight: 700; color: #fff; margin-bottom: 4px; }
.sm-settings-sub   { font-size: 12px; color: rgba(147,197,253,0.7); letter-spacing: .3px; }

.sm-settings-body { padding: 20px 28px 24px; max-height: 65vh; overflow-y: auto; scrollbar-width: thin; scrollbar-color: #3b82f6 transparent; }
.sm-settings-body::-webkit-scrollbar       { width: 4px; }
.sm-settings-body::-webkit-scrollbar-thumb { background: #3b82f6; }

.sm-weight-summary  { margin-bottom: 18px; padding: 14px 16px; background: rgba(0,0,0,0.25); border: 1px solid rgba(255,255,255,0.07); border-radius: 14px; }
.sm-weight-bar-wrap { display: flex; height: 10px; border-radius: 6px; overflow: hidden; margin-bottom: 8px; background: rgba(0,0,0,0.4); gap: 2px; }
.sm-weight-bar-seg  { border-radius: 3px; transition: width 0.3s cubic-bezier(0.34,1.2,0.64,1); min-width: 0; }
.sm-weight-total    { font-size: 12px; font-weight: 700; transition: color .2s; }
.sm-weight-ok       { color: #5dde92; }
.sm-weight-err      { color: #ff8090; }

.sm-settings-section     { margin-bottom: 20px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.07); border-radius: 16px; overflow: hidden; }
.sm-settings-section-hdr { display: flex !important; align-items: center !important; justify-content: space-between !important; flex-wrap: wrap !important; gap: 8px !important; padding: 12px 16px; background: rgba(0,0,0,0.3); border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }

.sm-weight-input-wrap { display: flex; align-items: center; gap: 5px; background: rgba(0,0,0,0.35); border-radius: 10px; padding: 4px 10px; border: 1px solid rgba(255,255,255,0.1); transition: border-color .2s; }
.sm-weight-input-wrap:focus-within { border-color: rgba(255,255,255,0.3); }
.sm-weight-input-label { font-size: 10px; font-weight: 700; letter-spacing: .5px; color: rgba(255,255,255,0.45); text-transform: uppercase; }
.sm-weight-input {
  width: 50px; padding: 4px 6px; border: 1.5px solid; border-radius: 8px;
  font-family: 'Outfit', sans-serif; font-size: 15px; font-weight: 800;
  text-align: center; background: rgba(0,0,0,0.4); outline: none; transition: all .2s;
  -moz-appearance: textfield;
}
.sm-weight-input::-webkit-outer-spin-button,
.sm-weight-input::-webkit-inner-spin-button { -webkit-appearance: none; }
.sm-weight-input:focus { box-shadow: 0 0 0 3px rgba(255,255,255,0.12); }
.sm-weight-pct-sign { font-family: 'Cinzel', serif; font-size: 13px; font-weight: 700; }

.sm-settings-rows { padding: 14px 16px; display: flex; flex-direction: column; gap: 10px; }
.sm-settings-row  { display: flex !important; align-items: center !important; gap: 10px !important; padding: 10px 14px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; transition: border-color .2s; }
.sm-settings-row:hover { border-color: rgba(59,130,246,0.4); }
.sm-settings-row-icon    { font-size: 18px; flex-shrink: 0; width: 30px; text-align: center; }
.sm-settings-row-label   { flex: 1; font-size: 13px; font-weight: 600; color: var(--text2); }
.sm-settings-row-sublabel{ font-size: 10px; color: var(--muted); margin-top: 2px; }
.sm-settings-max-wrap    { display: flex; align-items: center; gap: 6px; }
.sm-settings-max-label   { font-size: 10px; color: var(--muted); font-weight: 700; }
.sm-settings-max-input {
  width: 70px; padding: 7px 10px; border: 1.5px solid rgba(59,130,246,0.4); border-radius: 10px;
  font-family: 'Outfit', sans-serif; font-size: 14px; font-weight: 700;
  text-align: center; color: #93c5fd; background: rgba(30,64,175,0.15);
  outline: none; transition: all .2s; -moz-appearance: textfield;
}
.sm-settings-max-input::-webkit-outer-spin-button,
.sm-settings-max-input::-webkit-inner-spin-button { -webkit-appearance: none; }
.sm-settings-max-input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.2); color: #fff; }

.sm-settings-footer { display: flex; gap: 10px; padding: 16px 28px 22px; border-top: 1px solid rgba(255,255,255,0.06); background: rgba(0,0,0,0.3); border-radius: 0 0 24px 24px; }
.btn-settings-save  { flex: 1; padding: 12px; border-radius: 12px; background: linear-gradient(135deg, #1e40af, #1e3a8a); color: #fff; border: 1px solid rgba(59,130,246,0.4); font-family: 'Outfit', sans-serif; font-size: 14px; font-weight: 700; cursor: pointer; transition: all .2s; }
.btn-settings-save:hover  { filter: brightness(1.15); transform: translateY(-1px); }
.btn-settings-reset { padding: 12px 20px; border-radius: 12px; background: rgba(255,255,255,0.04); color: var(--muted); border: 1px solid rgba(255,255,255,0.1); font-family: 'Outfit', sans-serif; font-size: 13px; font-weight: 600; cursor: pointer; transition: all .2s; }
.btn-settings-reset:hover { border-color: rgba(232,0,15,0.4); color: #ff8090; }

/* Dynamic component buttons */
.sm-add-comp-btn {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 7px 16px; border-radius: 20px; font-family: 'Outfit', sans-serif;
  font-size: 12px; font-weight: 700; cursor: pointer;
  background: rgba(255,255,255,0.04); border: 1.5px dashed; transition: all 0.2s;
}
.sm-add-comp-btn:hover { background: rgba(255,255,255,0.1); transform: translateY(-1px); filter: brightness(1.3); }

.sm-del-comp-btn {
  width: 30px; height: 30px; border-radius: 8px;
  border: 1px solid rgba(239,68,68,0.3); background: rgba(239,68,68,0.08);
  color: rgba(239,68,68,0.7); font-size: 13px; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0; transition: all 0.2s; padding: 0; line-height: 1;
}
.sm-del-comp-btn:hover { background: rgba(239,68,68,0.25); color: #f87171; border-color: rgba(239,68,68,0.6); transform: scale(1.1); }

.sm-comp-label-input {
  width: 100%; padding: 6px 10px;
  border: 1.5px solid; border-radius: 8px;
  font-family: 'Outfit', sans-serif; font-size: 12px; font-weight: 600;
  color: var(--text); background: rgba(0,0,0,0.3); outline: none; transition: all 0.2s;
}
.sm-comp-label-input:focus { background: rgba(0,0,0,0.5); box-shadow: 0 0 0 3px rgba(255,255,255,0.08); }
.sm-comp-label-input::placeholder { color: rgba(255,255,255,0.2); }


/* ════════════════════════════════════════════════
   24. TEACHER SUBJECT MANAGER MODAL
   ════════════════════════════════════════════════ */

#tchSubjectMgrModal .modal-card.tch-subj-mgr-card {
  max-width: 740px !important; max-height: 90vh !important;
  overflow: hidden !important; display: flex !important; flex-direction: column !important;
  padding: 0 !important; background: linear-gradient(145deg, #080215, #0d0318, #060010) !important;
  border-color: rgba(59,130,246,0.3) !important;
}
#tchSubjectMgrModal .modal-card::before { display: none !important; }
#tchSubjectMgrModal .modal-close { position: absolute !important; top: 14px !important; right: 14px !important; z-index: 60 !important; background: rgba(255,255,255,0.15) !important; border: 1px solid rgba(255,255,255,0.25) !important; color: #fff !important; }
#tchSubjectMgrContent { flex: 1 !important; overflow-y: auto !important; overflow-x: hidden !important; padding: 0 !important; min-height: 0 !important; }

/* TSM3 layout */
.tsm3-wrap    { display: flex !important; flex-direction: column !important; min-height: 0 !important; overflow: hidden; height: 100%; }
.tsm3-hero    { position: relative; overflow: hidden; flex-shrink: 0; }
.tsm3-hero-bg { position: absolute; inset: 0; background: linear-gradient(135deg, rgba(30,64,175,.65) 0%, rgba(109,40,217,.38) 50%, rgba(5,10,30,.95) 100%); }
.tsm3-hero-bg::before { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse 75% 90% at 75% 50%, rgba(59,130,246,.28), transparent); }
.tsm3-hero-bg::after  { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, #3b82f6 30%, #a78bfa 65%, transparent); }
.tsm3-hero-inner  { position: relative; z-index: 1; display: flex; align-items: center; gap: 18px; padding: 24px 54px 22px 28px; }
.tsm3-hero-icon   { width: 54px; height: 54px; border-radius: 16px; background: rgba(59,130,246,.18); border: 1.5px solid rgba(59,130,246,.48); display: flex; align-items: center; justify-content: center; font-size: 26px; flex-shrink: 0; box-shadow: 0 0 28px rgba(59,130,246,.28); }
.tsm3-hero-text   { flex: 1; }
.tsm3-hero-title  { font-family: 'Cinzel', serif; font-size: 20px; font-weight: 700; color: #fff; margin: 0 0 4px; text-shadow: 0 0 30px rgba(99,102,241,.65); }
.tsm3-hero-sub    { font-size: 12px; color: rgba(147,197,253,.65); margin: 0; }
.tsm3-hero-counter{ display: flex; flex-direction: column; align-items: center; background: rgba(59,130,246,.12); border: 1px solid rgba(59,130,246,.32); border-radius: 16px; padding: 10px 22px; flex-shrink: 0; }
.tsm3-counter-num { font-family: 'Cinzel', serif; font-size: 32px; font-weight: 900; color: #93c5fd; line-height: 1; transition: all .3s cubic-bezier(.34,1.56,.64,1); }
.tsm3-counter-lbl { font-size: 9px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; color: rgba(147,197,253,.45); margin-top: 3px; }

.tsm3-current-section { padding: 14px 24px 12px; background: rgba(0,0,0,.4); border-bottom: 1px solid rgba(255,255,255,.07); flex-shrink: 0; max-height: 145px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: rgba(59,130,246,.4) transparent; }
.tsm3-current-section::-webkit-scrollbar       { width: 3px; }
.tsm3-current-section::-webkit-scrollbar-thumb { background: rgba(59,130,246,.4); border-radius: 2px; }
.tsm3-section-label { display: flex; align-items: center; gap: 7px; font-size: 9.5px; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px; color: rgba(255,255,255,.35); margin-bottom: 10px; }
.tsm3-label-dot     { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; }
.tsm3-dot-green     { background: #22c55e; box-shadow: 0 0 8px #22c55e; animation: tsm3GreenPulse 2s ease-in-out infinite; }

.tsm3-chips-flow { display: flex; flex-wrap: wrap; gap: 7px; }
.tsm3-chip {
  display: inline-flex; align-items: center; gap: 6px; padding: 5px 8px;
  border-radius: 20px; border: 1.5px solid rgba(255,255,255,.1); background: rgba(0,0,0,.38);
  max-width: 230px; transition: border-color .2s;
  animation: tsm3ChipIn .28s cubic-bezier(.34,1.56,.64,1);
}
.tsm3-chip:hover   { border-color: rgba(239,68,68,.45); }
.tsm3-chip-color   { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
.tsm3-chip-text    { font-size: 11.5px; font-weight: 600; color: rgba(255,255,255,.82); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 175px; }
.tsm3-chip-x       { width: 18px; height: 18px; border-radius: 50%; border: none; background: rgba(255,255,255,.08); color: rgba(255,255,255,.45); font-size: 14px; line-height: 1; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all .15s; flex-shrink: 0; padding: 0; }
.tsm3-chip-x:hover { background: rgba(239,68,68,.55); color: #fff; transform: scale(1.15); }

.tsm3-empty-chips      { display: flex; align-items: center; gap: 14px; padding: 12px 16px; border-radius: 12px; background: rgba(255,255,255,.02); border: 1px dashed rgba(255,255,255,.07); }
.tsm3-empty-chips-icon { font-size: 26px; opacity: .35; }
.tsm3-empty-chips-text { font-size: 12px; color: rgba(255,255,255,.3); line-height: 1.6; }
.tsm3-empty-chips-text span { font-size: 10.5px; }

.tsm3-divider      { display: flex; align-items: center; gap: 12px; padding: 10px 24px; background: rgba(0,0,0,.25); flex-shrink: 0; }
.tsm3-divider-line { flex: 1; height: 1px; background: rgba(255,255,255,.07); }
.tsm3-divider-text { font-size: 9.5px; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px; color: rgba(255,255,255,.22); white-space: nowrap; }

.tsm3-search-row   { display: flex; align-items: center; gap: 14px; padding: 10px 20px 12px; background: rgba(0,0,0,.22); flex-shrink: 0; }
.tsm3-search-box   { position: relative; flex: 1; }
.tsm3-search-ico   { position: absolute; left: 13px; top: 50%; transform: translateY(-50%); font-size: 14px; opacity: .4; pointer-events: none; }
.tsm3-search-input { width: 100%; padding: 10px 36px 10px 40px; border: 1.5px solid rgba(59,130,246,.22); border-radius: 12px; font-family: 'Outfit', sans-serif; font-size: 13px; color: var(--text); background: rgba(0,0,0,.42); outline: none; transition: all .2s; box-sizing: border-box; }
.tsm3-search-input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,.15); background: rgba(0,0,0,.58); }
.tsm3-search-input::placeholder { color: rgba(255,255,255,.18); }
.tsm3-search-clear { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,.07); border: 1px solid rgba(255,255,255,.12); border-radius: 50%; width: 22px; height: 22px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 10px; color: var(--muted); transition: all .2s; }
.tsm3-search-clear:hover { background: rgba(239,68,68,.35); color: #fff; }
.tsm3-search-hint  { font-size: 11px; font-weight: 600; color: rgba(255,255,255,.22); white-space: nowrap; flex-shrink: 0; }

.tsm3-catalog {
  flex: 1 !important; overflow-y: auto !important; overflow-x: hidden !important;
  min-height: 150px !important; max-height: calc(90vh - 380px) !important;
  padding: 8px 20px 20px !important;
  scrollbar-width: thin; scrollbar-color: rgba(59,130,246,.4) transparent;
}
.tsm3-catalog::-webkit-scrollbar       { width: 4px; }
.tsm3-catalog::-webkit-scrollbar-thumb { background: rgba(59,130,246,.4); border-radius: 2px; }

.tsm3-cat     { margin-bottom: 10px; border-radius: 14px; border: 1px solid rgba(255,255,255,.055); overflow: hidden; animation: tsm3CatIn .22s ease both; }
.tsm3-cat-hdr { display: flex; align-items: center; gap: 8px; padding: 10px 15px; background: rgba(0,0,0,.42); border-bottom: 1px solid rgba(255,255,255,.05); border-left: 3px solid var(--cat-color, #3b82f6); }
.tsm3-cat-ico { font-size: 15px; }
.tsm3-cat-name{ flex: 1; font-size: 10.5px; font-weight: 800; text-transform: uppercase; letter-spacing: .7px; }
.tsm3-cat-cnt { font-size: 10px; font-weight: 700; border-radius: 20px; padding: 2px 8px; background: rgba(255,255,255,.06); color: rgba(255,255,255,.3); }
.tsm3-cat-added { font-size: 10px; font-weight: 800; background: rgba(16,185,129,.1); border: 1px solid rgba(16,185,129,.3); border-radius: 20px; padding: 2px 9px; color: #34d399; }
.tsm3-cat-list{ background: rgba(0,0,0,.1); }

.tsm3-item       { display: flex; align-items: center; justify-content: space-between; padding: 9px 14px; border-bottom: 1px solid rgba(255,255,255,.022); transition: all .14s; gap: 10px; }
.tsm3-item:last-child { border-bottom: none; }
.tsm3-item:hover { background: rgba(255,255,255,.028); padding-left: 20px; }
.tsm3-item-added { background: rgba(16,185,129,.025); }
.tsm3-item-added:hover { background: rgba(16,185,129,.04) !important; }
.tsm3-item-added .tsm3-item-name { color: rgba(255,255,255,.4); }
.tsm3-item-left  { display: flex; align-items: center; gap: 9px; flex: 1; min-width: 0; }
.tsm3-item-check { width: 18px; height: 18px; border-radius: 50%; border: 1.5px solid; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 9px; font-weight: 900; }
.tsm3-item-dot   { width: 8px; height: 8px; border-radius: 50%; border: 1.5px solid; flex-shrink: 0; opacity: .4; }
.tsm3-item-name  { font-size: 12.5px; color: rgba(255,255,255,.78); flex: 1; min-width: 0; line-height: 1.4; }
.tsm3-hl { background: rgba(255,184,0,.3); color: #fff; border-radius: 3px; padding: 0 2px; }
.tsm3-btn { padding: 4px 12px; border-radius: 20px; font-family: 'Outfit', sans-serif; font-size: 11px; font-weight: 700; cursor: pointer; transition: all .15s; white-space: nowrap; flex-shrink: 0; border: 1.5px solid; background: transparent; }
.tsm3-btn-add:hover    { filter: brightness(1.35); transform: scale(1.05); }
.tsm3-btn-remove       { border-color: rgba(239,68,68,.3); background: rgba(239,68,68,.05); color: rgba(239,68,68,.7); }
.tsm3-btn-remove:hover { background: rgba(239,68,68,.18); color: #f87171; border-color: rgba(239,68,68,.52); }
.tsm3-no-results { text-align: center; padding: 40px 20px; color: rgba(255,255,255,.28); font-size: 13px; }


/* ════════════════════════════════════════════════
   25. MISC SHARED COMPONENTS
   ════════════════════════════════════════════════ */

.student-name-wrap  { display: flex; align-items: center; flex-wrap: wrap; gap: 5px; line-height: 1.3; }
.gl-badge           { display: inline-flex; align-items: center; padding: 1px 7px; border-radius: 20px; border: 1px solid; font-size: 9.5px; font-weight: 800; letter-spacing: .4px; white-space: nowrap; flex-shrink: 0; }
.strand-mini        { display: inline-flex; align-items: center; padding: 1px 7px; border-radius: 20px; font-size: 9px; font-weight: 700; color: rgba(255,255,255,0.55); background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1); white-space: nowrap; flex-shrink: 0; letter-spacing: .3px; }
.folder-gl-pill     { display: inline-flex; align-items: center; padding: 2px 10px; border-radius: 20px; border: 1px solid; font-size: 11px; font-weight: 800; margin-right: 6px; vertical-align: middle; }

/* Subject Modal scroll */
#subjectModal .modal-card { max-height: 90vh !important; overflow-y: auto !important; }

/* Student photo */
#stuPcPhotoWrap.hidden { display: none !important; }

/* Pending overlay */
.pending-overlay-inner { text-align: center; padding: 40px; animation: modalIn .4s cubic-bezier(0.34,1.56,0.64,1); }
.pending-check-anim    { font-size: 80px; margin-bottom: 20px; animation: checkBounce .6s cubic-bezier(0.34,1.56,0.64,1); }
.pending-title { font-family: 'Cinzel', serif; font-size: 28px; font-weight: 900; color: #fff; margin-bottom: 12px; }
.pending-msg   { font-size: 15px; color: rgba(255,255,255,.65); line-height: 1.6; margin-bottom: 16px; }
.pending-msg strong { color: var(--gold); }
.pending-subj  { display: inline-block; background: rgba(255,184,0,0.12); border: 1px solid rgba(255,184,0,0.35); color: var(--gold); border-radius: 20px; padding: 8px 22px; font-size: 14px; font-weight: 700; }


/* ════════════════════════════════════════════════
   26. LIGHT MODE OVERRIDES
   ════════════════════════════════════════════════ */

/* Login Left Panel */
[data-theme="light"] .lp-left {
  background:
    radial-gradient(ellipse 60% 45% at 20% 15%, rgba(255,60,60,0.25), transparent 55%),
    radial-gradient(ellipse 50% 55% at 80% 85%, rgba(120,0,60,0.2), transparent 55%),
    linear-gradient(155deg, #3a0000, #5c0000, #4a0000, #380000) !important;
}
[data-theme="light"] .lp-left::before {
  background-image: linear-gradient(rgba(255,100,100,0.07) 1px, transparent 1px), linear-gradient(90deg, rgba(255,100,100,0.07) 1px, transparent 1px);
}
[data-theme="light"] .lp-title       { color: #ffffff !important; text-shadow: 0 0 40px rgba(255,80,80,0.6), 0 2px 8px rgba(0,0,0,0.9) !important; }
[data-theme="light"] .lp-title em    { color: #ffd166 !important; }
[data-theme="light"] .lp-badge       { background: rgba(255,210,100,0.15) !important; border-color: rgba(255,210,100,0.45) !important; color: #ffd166 !important; }
[data-theme="light"] .lp-motto       { color: #ffffff !important; text-shadow: 0 0 40px rgba(255,80,80,0.7), 0 2px 10px rgba(0,0,0,0.95) !important; }
[data-theme="light"] .lp-location-card { background: linear-gradient(135deg, rgba(255,200,100,0.2), rgba(200,0,30,0.12), rgba(255,200,100,0.1)) !important; border-color: rgba(255,200,100,0.5) !important; }
[data-theme="light"] .lp-divider     { background: linear-gradient(90deg, transparent, rgba(255,210,100,0.6), transparent); }

/* Login Card */
[data-theme="light"] .lp-right::before { background: rgba(30,0,0,0.45) !important; }
[data-theme="light"] .lp-card          { background: rgba(255,252,252,0.96) !important; border-color: rgba(140,0,0,0.2) !important; box-shadow: 0 40px 80px rgba(0,0,0,0.3), 0 0 60px rgba(100,0,0,0.15) !important; }
[data-theme="light"] .lp-card-title    { color: #1a0000 !important; }
[data-theme="light"] .lp-card-sub      { color: #7a3030 !important; }
[data-theme="light"] .auth-tabs        { background: rgba(0,0,0,0.06) !important; border-color: rgba(140,0,0,0.15) !important; }
[data-theme="light"] .auth-tab         { color: #7a3030 !important; background: transparent !important; }
[data-theme="light"] .auth-tab.active  { color: #fff !important; }
[data-theme="light"] .role-toggle      { background: rgba(0,0,0,0.06) !important; border-color: rgba(140,0,0,0.15) !important; }
[data-theme="light"] .role-btn         { color: #7a3030 !important; background: transparent !important; }
[data-theme="light"] .role-btn.active  { color: #fff !important; }
[data-theme="light"] .fg label         { color: #5a2020 !important; }
[data-theme="light"] .hint-lbl         { color: #b06000 !important; }
[data-theme="light"] .check-lbl        { color: #5a2020 !important; }
[data-theme="light"] .email-wrap       { border-color: rgba(140,0,0,0.2) !important; background: rgba(255,255,255,0.95) !important; }
[data-theme="light"] .email-input      { color: #1a0000 !important; }
[data-theme="light"] .email-input::placeholder { color: rgba(140,0,0,0.35) !important; }
[data-theme="light"] .email-sfx        { color: #8B0000 !important; background: rgba(140,0,0,0.06) !important; }
[data-theme="light"] .pw-wrap input    { color: #1a0000 !important; background: rgba(255,255,255,0.95) !important; border-color: rgba(140,0,0,0.2) !important; }
[data-theme="light"] .plain-input      { color: #1a0000 !important; background: rgba(255,255,255,0.95) !important; border-color: rgba(140,0,0,0.2) !important; }
[data-theme="light"] .plain-input::placeholder { color: rgba(140,0,0,0.3) !important; }
[data-theme="light"] select.plain-input option { background: #fff5f5 !important; color: #1a0000 !important; }
[data-theme="light"] .demo-box         { background: rgba(0,0,0,0.05) !important; border-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .demo-title       { color: #1a0000 !important; }
[data-theme="light"] .demo-col-label   { color: #1a0000 !important; }
[data-theme="light"] .demo-row         { color: #7a3030 !important; }
[data-theme="light"] .demo-row span:last-child { color: #1a0000 !important; }
[data-theme="light"] .demo-note        { color: rgba(150,80,0,0.85) !important; }

/* Nav */
[data-theme="light"] .dash-nav         { background: rgba(50,0,0,0.97) !important; border-bottom-color: rgba(200,50,50,0.3) !important; }
[data-theme="light"] .dash-brand       { color: #fff !important; }
[data-theme="light"] .dash-brand img   { border-color: #ffd166 !important; }
[data-theme="light"] .user-pill        { background: rgba(255,255,255,0.1) !important; border-color: rgba(255,255,255,0.15) !important; color: #fff !important; }
[data-theme="light"] .btn-logout       { color: rgba(255,180,180,0.9) !important; background: rgba(255,255,255,0.08) !important; border-color: rgba(255,255,255,0.15) !important; }
[data-theme="light"] .btn-logout:hover { background: rgba(255,80,80,0.25) !important; color: #fff !important; }
[data-theme="light"] .dm-nav-btn       { background: rgba(255,255,255,0.1) !important; border-color: rgba(255,255,255,0.18) !important; color: #fff !important; }
[data-theme="light"] .btn-add-student  { color: #93c5fd !important; }
[data-theme="light"] .btn-settings-gear{ color: #93c5fd !important; }
[data-theme="light"] .notif-bell-btn   { background: rgba(255,255,255,0.1) !important; border-color: rgba(255,255,255,0.18) !important; color: #fff !important; }

/* Dashboard body */
[data-theme="light"] .page  { background: #f5eded; }
[data-theme="light"] .portal-bg::before {
  background: radial-gradient(ellipse 80% 50% at 20% 20%, rgba(180,0,0,0.08) 0%, transparent 60%), radial-gradient(ellipse 60% 40% at 80% 80%, rgba(200,100,0,0.06) 0%, transparent 60%);
}

/* Sidebar — Student */
[data-theme="light"] .profile-card       { background: rgba(255,252,252,0.9) !important; border-color: rgba(140,0,0,0.15) !important; box-shadow: 0 12px 40px rgba(0,0,0,0.1) !important; }
[data-theme="light"] .pc-name            { color: #1a0000 !important; }
[data-theme="light"] .pc-email           { color: #7a3030 !important; }
[data-theme="light"] .pc-row             { color: #7a3030 !important; border-top-color: rgba(140,0,0,0.1) !important; }
[data-theme="light"] .pc-row span:last-child { color: #1a0000 !important; }
[data-theme="light"] .profile-edit-hint  { color: #b06000 !important; border-top-color: rgba(180,100,0,0.2) !important; }

/* Sidebar — Teacher (dark maroon) */
[data-theme="light"] .tch-sidebar { background: linear-gradient(180deg, #3a0000, #4a0000); border-radius: 18px; padding: 4px; }
[data-theme="light"] .tch-sidebar .sidebar-section-lbl     { color: rgba(255,210,210,0.5) !important; }
[data-theme="light"] .tch-sidebar .strand-item             { background: rgba(255,255,255,0.06) !important; border-color: rgba(255,255,255,0.1) !important; }
[data-theme="light"] .tch-sidebar .strand-item .si-name    { color: #fff !important; }
[data-theme="light"] .tch-sidebar .strand-item .si-sub     { color: rgba(255,200,200,0.55) !important; }
[data-theme="light"] .tch-sidebar .strand-item:hover,
[data-theme="light"] .tch-sidebar .strand-item.active      { background: rgba(255,255,255,0.12) !important; border-color: rgba(255,150,150,0.3) !important; }
[data-theme="light"] .tch-sidebar .profile-card            { background: rgba(255,255,255,0.08) !important; border-color: rgba(255,255,255,0.12) !important; }
[data-theme="light"] .tch-sidebar .pc-name                 { color: #fff !important; }
[data-theme="light"] .tch-sidebar .pc-badge                { background: linear-gradient(135deg, rgba(220,0,20,0.8), rgba(160,0,10,0.9)) !important; }
[data-theme="light"] .tch-sidebar .pc-email                { color: rgba(255,200,200,0.65) !important; }
[data-theme="light"] .tch-sidebar .pc-row                  { color: rgba(255,200,200,0.55) !important; border-top-color: rgba(255,255,255,0.08) !important; }
[data-theme="light"] .tch-sidebar .pc-row span:last-child  { color: #fff !important; }
[data-theme="light"] .tch-sidebar .profile-edit-hint       { color: rgba(255,210,100,0.6) !important; border-top-color: rgba(255,255,255,0.08) !important; }

/* Teacher main */
[data-theme="light"] .tch-main           { background: rgba(255,252,252,0.85) !important; border-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .tch-header         { background: linear-gradient(135deg, rgba(80,0,0,0.06), rgba(140,0,0,0.03)) !important; border-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .tch-folder-title   { color: #1a0000 !important; }
[data-theme="light"] .tch-folder-sub     { color: #7a3030 !important; }
[data-theme="light"] .vtab               { color: #7a3030 !important; background: rgba(0,0,0,0.05) !important; border-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .vtab.active        { color: #fff !important; }
[data-theme="light"] .stab               { color: #7a3030 !important; background: rgba(0,0,0,0.05) !important; border-color: rgba(0,0,0,0.1) !important; }
[data-theme="light"] .stab.active        { color: #fff !important; }

/* Gradebook tables */
[data-theme="light"] .gb-table tbody td  { color: #1a0000 !important; }
[data-theme="light"] .gb-table tbody tr:hover td { background: rgba(140,0,0,0.04) !important; }
[data-theme="light"] .gb-table tbody td:nth-child(1) { background: rgba(240,230,230,0.98) !important; }
[data-theme="light"] .gb-table tbody td:nth-child(2) { background: rgba(245,237,237,0.98) !important; }
[data-theme="light"] .gb-table tbody tr:hover td:nth-child(1),
[data-theme="light"] .gb-table tbody tr:hover td:nth-child(2) { background: rgba(220,210,210,0.99) !important; }
[data-theme="light"] .gb-name-cell       { color: #1a0000 !important; }
[data-theme="light"] .cr-name-td         { color: #1a0000 !important; background: rgba(240,230,230,0.98) !important; }
[data-theme="light"] .cr-num-td          { color: #7a3030 !important; background: rgba(230,220,220,0.98) !important; }
[data-theme="light"] .cr-td              { color: #1a0000 !important; }
[data-theme="light"] .cr-gender-row      { color: #fff !important; }
[data-theme="light"] .score-input        { background: rgba(255,255,255,0.9) !important; border-color: rgba(140,0,0,0.2) !important; color: #1a0000 !important; }
[data-theme="light"] .cr-input           { background: rgba(255,255,255,0.85) !important; border-color: rgba(0,0,0,0.1) !important; color: #1a0000 !important; }
[data-theme="light"] .legend-bar         { color: #7a3030 !important; border-top-color: rgba(140,0,0,0.12) !important; }

[data-theme="light"] .gb-toolbar-inner,
[data-theme="light"] .cr-toolbar-inner   { background: linear-gradient(135deg, rgba(255,252,252,0.9), rgba(255,240,240,0.7)) !important; border-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .toolbar-lbl        { color: #7a3030 !important; }
[data-theme="light"] .qtr-btn            { color: #5a2020 !important; background: rgba(0,0,0,0.05) !important; border-color: rgba(140,0,0,0.15) !important; }
[data-theme="light"] .save-qtr-btn       { color: #fff !important; }
[data-theme="light"] .subj-add-btn       { color: rgba(120,60,60,0.7) !important; border-color: rgba(120,60,60,0.3) !important; }
[data-theme="light"] .subj-add-btn:hover { color: #e8000f !important; }

[data-theme="light"] .gb-settings-strip { background: linear-gradient(135deg, rgba(50,10,10,0.9), rgba(30,5,5,0.95)) !important; border-color: rgba(200,80,80,0.25) !important; }
[data-theme="light"] .gb-settings-strip-label { color: rgba(255,200,200,0.7) !important; }
[data-theme="light"] .gb-settings-chip   { color: rgba(220,180,180,0.85) !important; }
[data-theme="light"] .gb-settings-chip strong { color: #fff !important; }
[data-theme="light"] .gb-settings-edit-link { color: #93c5fd !important; background: rgba(59,130,246,0.12) !important; border-color: rgba(59,130,246,0.3) !important; }
[data-theme="light"] .gb-search-input    { background: rgba(255,255,255,0.9) !important; border-color: rgba(140,0,0,0.2) !important; color: #1a0000 !important; }

/* Subject list */
[data-theme="light"] .subject-card  { background: rgba(255,252,252,0.9) !important; border-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .sub-name      { color: #1a0000 !important; }
[data-theme="light"] .sub-teacher   { color: #7a3030 !important; }
[data-theme="light"] .sec-title     { color: #1a0000 !important; }
[data-theme="light"] .no-subjects-msg { background: rgba(255,252,252,0.9) !important; border-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .no-sub-text   { color: #1a0000 !important; }
[data-theme="light"] .no-sub-hint   { color: #7a3030 !important; }
[data-theme="light"] .btn-add-subject { color: #8B4500 !important; border-color: rgba(180,100,0,0.35) !important; background: rgba(180,100,0,0.06) !important; }

/* Grade card */
[data-theme="light"] .grade-card    { background: rgba(255,252,252,0.9) !important; border-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .grade-table td { color: #1a0000 !important; border-bottom-color: rgba(140,0,0,0.08) !important; }
[data-theme="light"] .grade-table tr:hover td { background: rgba(140,0,0,0.03) !important; }
[data-theme="light"] .final-col     { color: #1a0000 !important; }
[data-theme="light"] .gwa-bar       { background: linear-gradient(135deg, rgba(200,120,0,0.08), rgba(140,0,0,0.04)) !important; border-color: rgba(200,120,0,0.25) !important; }
[data-theme="light"] .gwa-label     { color: #8B4500 !important; }

/* Attendance */
[data-theme="light"] .att-input      { background: rgba(255,255,255,0.85) !important; color: #1a0000 !important; }
[data-theme="light"] .att-hint       { color: #7a3030 !important; }
[data-theme="light"] .att-count-cell { color: #7a3030 !important; }
[data-theme="light"] .att-total-cell { color: #7a3030 !important; background: rgba(0,0,0,0.05) !important; }

/* Modals */
[data-theme="light"] .modal-card    { background: rgba(255,252,252,0.98) !important; border-color: rgba(140,0,0,0.15) !important; }
[data-theme="light"] .modal-title   { color: #1a0000 !important; }
[data-theme="light"] .modal-sub     { color: #7a3030 !important; }
[data-theme="light"] .modal-close   { background: rgba(0,0,0,0.06) !important; border-color: rgba(0,0,0,0.1) !important; color: #5a2020 !important; }

/* Profile Modal */
[data-theme="light"] .pm-header          { background: linear-gradient(135deg, rgba(50,0,0,0.95), rgba(20,0,0,0.98)) !important; border-bottom-color: rgba(200,50,50,0.2) !important; }
[data-theme="light"] .pm-name            { color: #fff !important; }
[data-theme="light"] .pm-email-display   { color: rgba(255,200,200,0.5) !important; }
[data-theme="light"] .pm-tabs            { background: rgba(0,0,0,0.05) !important; border-bottom-color: rgba(140,0,0,0.12) !important; }
[data-theme="light"] .pm-tab             { color: #7a3030 !important; }
[data-theme="light"] .pm-tab.active      { color: #8B4500 !important; border-bottom-color: #8B4500 !important; }
[data-theme="light"] .pm-info-item       { background: rgba(0,0,0,0.03) !important; border-color: rgba(140,0,0,0.1) !important; }
[data-theme="light"] .pm-info-lbl        { color: #7a3030 !important; }
[data-theme="light"] .pm-info-val        { color: #1a0000 !important; }
[data-theme="light"] .pm-edit-section    { background: rgba(0,0,0,0.04) !important; border-color: rgba(140,0,0,0.1) !important; }
[data-theme="light"] .pm-edit-title      { color: #8B4500 !important; }
[data-theme="light"] .pm-pass-intro      { background: rgba(140,0,0,0.05) !important; border-color: rgba(140,0,0,0.15) !important; }
[data-theme="light"] .pm-pass-intro p    { color: #3a0808 !important; }

/* Notifications */
[data-theme="light"] .teacher-notif-panel { background: linear-gradient(145deg, #fff5f5, #fff0f0) !important; border-color: rgba(140,0,0,0.2) !important; }
[data-theme="light"] .notif-item           { background: rgba(0,0,0,0.03) !important; border-color: rgba(140,0,0,0.1) !important; }
[data-theme="light"] .notif-unread         { background: rgba(140,0,0,0.05) !important; border-color: rgba(140,0,0,0.18) !important; }
[data-theme="light"] .notif-title          { color: #8B4500 !important; }
[data-theme="light"] .notif-msg            { color: #1a0000 !important; }
[data-theme="light"] .notif-email          { color: #7a3030 !important; }
[data-theme="light"] .notif-empty          { color: #7a3030 !important; }

/* Add Subject Modal */
[data-theme="light"] #addSubjectModal .modal-card { background: rgba(255,252,252,0.98) !important; }
[data-theme="light"] .asj-modal-title   { color: #1a0000 !important; }
[data-theme="light"] .asj-modal-sub     { color: #7a3030 !important; }
[data-theme="light"] .asj-stat-lbl      { color: #7a3030 !important; }
[data-theme="light"] .asj-search-input  { background: rgba(255,255,255,0.9) !important; color: #1a0000 !important; }
[data-theme="light"] .asj-search-input::placeholder { color: rgba(120,60,60,0.4) !important; }
[data-theme="light"] .asj-item-name     { color: rgba(30,0,0,0.82) !important; }
[data-theme="light"] .asj-stats-bar     { background: rgba(0,0,0,0.06) !important; }
[data-theme="light"] .asj-cat-hdr       { background: rgba(0,0,0,0.06) !important; }
[data-theme="light"] .asj-item:hover    { background: rgba(140,0,0,0.04) !important; }

/* Add Student Modal */
[data-theme="light"] .add-stu-title     { color: #1a0000 !important; }
[data-theme="light"] .add-stu-subtitle  { color: #7a3030 !important; }
[data-theme="light"] .add-stu-card      { background: rgba(0,0,0,0.03) !important; border-color: rgba(140,0,0,0.1) !important; }
[data-theme="light"] .astu-name         { color: #1a0000 !important; }
[data-theme="light"] .astu-email        { color: #7a3030 !important; }
[data-theme="light"] .astu-strand       { color: #8B4500 !important; }
[data-theme="light"] .add-stu-empty     { color: #7a3030 !important; }

/* Score Settings Modal */
[data-theme="light"] .sm-settings-head  { background: linear-gradient(135deg, rgba(30,64,175,0.2), rgba(15,30,100,0.3)) !important; }
[data-theme="light"] .sm-settings-title { color: #1a0000 !important; }
[data-theme="light"] .sm-settings-sub   { color: rgba(30,60,150,0.7) !important; }
[data-theme="light"] .sm-settings-section { background: rgba(0,0,0,0.03) !important; border-color: rgba(0,0,0,0.07) !important; }
[data-theme="light"] .sm-settings-section-hdr { background: rgba(0,0,0,0.05) !important; }
[data-theme="light"] .sm-settings-row   { background: rgba(0,0,0,0.03) !important; border-color: rgba(0,0,0,0.06) !important; }
[data-theme="light"] .sm-settings-row-label    { color: #1a0000 !important; }
[data-theme="light"] .sm-settings-row-sublabel { color: #7a3030 !important; }
[data-theme="light"] .sm-settings-max-input    { background: rgba(30,64,175,0.08) !important; color: #1e3a8a !important; }
[data-theme="light"] .sm-settings-footer       { background: rgba(0,0,0,0.05) !important; border-top-color: rgba(0,0,0,0.08) !important; }
[data-theme="light"] .sm-comp-label-input      { background: rgba(255,255,255,0.8) !important; border-color: rgba(0,0,0,0.12) !important; color: #1a0000 !important; }
[data-theme="light"] .sm-weight-summary        { background: rgba(0,0,0,0.04) !important; border-color: rgba(0,0,0,0.07) !important; }

/* Teacher Subject Manager */
[data-theme="light"] #tchSubjectMgrModal .modal-card { background: linear-gradient(145deg, #fff5f5, #fff0f0, #fffafa) !important; border-color: rgba(59,130,246,0.25) !important; }
[data-theme="light"] .tsm3-hero-title   { color: #fff !important; }
[data-theme="light"] .tsm3-hero-sub     { color: rgba(200,230,255,0.7) !important; }
[data-theme="light"] .tsm3-section-label{ color: rgba(0,0,0,0.4) !important; }
[data-theme="light"] .tsm3-chip         { background: rgba(0,0,0,0.06) !important; border-color: rgba(0,0,0,0.12) !important; }
[data-theme="light"] .tsm3-chip-text    { color: #1a0000 !important; }
[data-theme="light"] .tsm3-search-input { background: rgba(255,255,255,0.9) !important; color: #1a0000 !important; border-color: rgba(59,130,246,0.25) !important; }
[data-theme="light"] .tsm3-cat          { border-color: rgba(0,0,0,0.08) !important; }
[data-theme="light"] .tsm3-cat-hdr      { background: rgba(0,0,0,0.06) !important; }
[data-theme="light"] .tsm3-item-name    { color: rgba(30,0,0,0.78) !important; }
[data-theme="light"] .tsm3-divider-text { color: rgba(0,0,0,0.3) !important; }
[data-theme="light"] .tsm3-search-hint  { color: rgba(0,0,0,0.3) !important; }
[data-theme="light"] .tsm3-no-results   { color: rgba(0,0,0,0.35) !important; }
[data-theme="light"] .tsm3-current-section { background: rgba(0,0,0,0.05) !important; }
[data-theme="light"] .tsm3-empty-chips  { background: rgba(0,0,0,0.03) !important; border-color: rgba(0,0,0,0.08) !important; }
[data-theme="light"] .tsm3-empty-chips-text { color: rgba(0,0,0,0.35) !important; }
[data-theme="light"] .tsm3-cat-cnt      { color: rgba(0,0,0,0.35) !important; background: rgba(0,0,0,0.06) !important; }

/* Subject Detail Modal */
[data-theme="light"] .sm-qtab       { background: rgba(0,0,0,0.05) !important; border-color: rgba(0,0,0,0.1) !important; }
[data-theme="light"] .sm-qtab-lbl   { color: #1a0000 !important; }
[data-theme="light"] .sm-qtab.active{ background: linear-gradient(135deg, rgba(200,120,0,0.15), rgba(200,120,0,0.06)) !important; border-color: rgba(200,120,0,0.5) !important; }
[data-theme="light"] .sm-q-footer   { background: rgba(0,0,0,0.04) !important; border-color: rgba(140,0,0,0.1) !important; }
[data-theme="light"] .sm-q-footer-lbl { color: #7a3030 !important; }
[data-theme="light"] .sm-final-bar  { background: linear-gradient(135deg, rgba(200,120,0,0.08), rgba(140,0,0,0.04)) !important; border-color: rgba(200,120,0,0.2) !important; }
[data-theme="light"] .sm-final-lbl  { color: #7a3030 !important; }
[data-theme="light"] .sm-score-card { background: rgba(0,0,0,0.03) !important; border-color: rgba(0,0,0,0.06) !important; }
[data-theme="light"] .sm-score-label{ color: #3a0808 !important; }
[data-theme="light"] .sm-score-bar-wrap { background: rgba(0,0,0,0.08) !important; }
[data-theme="light"] .sm-no-scores  { background: rgba(0,0,0,0.03) !important; border-color: rgba(0,0,0,0.08) !important; color: #7a3030 !important; }
[data-theme="light"] .sm-hdr-name   { color: #fff !important; }
[data-theme="light"] .sm-hdr-teacher{ color: rgba(255,220,220,0.5) !important; }

/* T&C Modal */
[data-theme="light"] .tc-modal-card  { background: linear-gradient(145deg, #fff8f8, #fff5f5, #fff0f0) !important; border-color: rgba(200,120,0,0.2) !important; }
[data-theme="light"] .tc-modal-head  { background: rgba(200,120,0,0.06) !important; border-bottom-color: rgba(200,120,0,0.15) !important; }
[data-theme="light"] .tc-modal-title { color: #1a0000 !important; }
[data-theme="light"] .tc-modal-sub   { color: #7a3030 !important; }
[data-theme="light"] .tc-section h4  { color: #8B4500 !important; }
[data-theme="light"] .tc-section p   { color: rgba(30,10,10,0.7) !important; }
[data-theme="light"] .tc-footer      { background: rgba(0,0,0,0.05) !important; border-top-color: rgba(0,0,0,0.08) !important; }
[data-theme="light"] .tc-scroll-hint { color: rgba(140,70,0,0.6) !important; }

/* Misc */
[data-theme="light"] .strand-mini   { color: rgba(30,10,10,0.55) !important; background: rgba(0,0,0,0.06) !important; border-color: rgba(0,0,0,0.1) !important; }
[data-theme="light"] .pending-badge { background: rgba(200,120,0,0.1) !important; border-color: rgba(200,120,0,0.3) !important; color: #8B4500 !important; }
[data-theme="light"] .score-input-max-hint { color: #7a3030 !important; }
[data-theme="light"] .gb-no-results  { color: #7a3030 !important; }
[data-theme="light"] .gb-no-subject-state { color: #7a3030 !important; }

/* Scrollbar */
[data-theme="light"] ::-webkit-scrollbar       { background: rgba(0,0,0,0.05); }
[data-theme="light"] ::-webkit-scrollbar-thumb { background: rgba(140,0,0,0.3); }


/* ════════════════════════════════════════════════
   27. RESPONSIVE
   ════════════════════════════════════════════════ */

@media (max-width: 1050px) {
  .tch-layout { grid-template-columns: 200px 1fr; }
}
@media (max-width: 900px) {
  .stu-layout, .tch-layout { grid-template-columns: 1fr; }
  .stu-sidebar, .tch-sidebar { position: static; }
  .tch-header { flex-direction: column; }
  .tch-header-right { align-items: flex-start; }
}
@media (max-width: 760px) {
  .lp-left { display: none; }
  .lp-right { padding: 30px 20px; }
  .lp-card  { max-width: 100%; }
  #tchSubjectMgrModal .modal-card { max-height: 96vh !important; border-radius: 18px !important; }
}
@media (max-width: 520px) {
  .pm-edit-row2 { grid-template-columns: 1fr; }
}
@media (max-width: 480px) {
  .pm-info-grid { grid-template-columns: 1fr; }
  .pm-info-wide { grid-column: 1; }
  .pm-header    { flex-direction: column; text-align: center; }
  .demo-cols    { flex-direction: column; gap: 8px; }
  .demo-col-sep { display: none; }
}
